<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Miami Local Business Feasibility Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
        }

        .stat-label {
            color: #666;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .filters {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .filter-row {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            align-items: center;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .filter-group label {
            font-weight: 600;
            color: #555;
            font-size: 0.9rem;
        }

        .filter-group select,
        .filter-group input {
            padding: 10px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 0.9rem;
            transition: border-color 0.3s ease;
        }

        .filter-group select:focus,
        .filter-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .search-box {
            flex: 1;
            min-width: 200px;
        }

        .table-container {
            background: white;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            overflow: hidden;
            margin-bottom: 30px;
        }

        .table-header {
            background: #667eea;
            color: white;
            padding: 20px;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .table-wrapper {
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e1e5e9;
        }

        th {
            background: #f8f9fa;
            font-weight: 600;
            color: #555;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        tr:hover {
            background: #f8f9fa;
            cursor: pointer;
        }

        .score {
            padding: 5px 10px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.8rem;
        }

        .score.excellent { background: #d4edda; color: #155724; }
        .score.good { background: #d1ecf1; color: #0c5460; }
        .score.fair { background: #fff3cd; color: #856404; }
        .score.poor { background: #f8d7da; color: #721c24; }

        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .chart-container {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .chart-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: #555;
            text-align: center;
        }

        .insights {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .insights h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .insight-item {
            padding: 15px;
            margin-bottom: 10px;
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            border-radius: 5px;
        }

        .insight-item h4 {
            color: #555;
            margin-bottom: 5px;
        }

        .insight-item p {
            color: #666;
            font-size: 0.9rem;
        }

        .loading {
            text-align: center;
            padding: 50px;
            color: #666;
        }

        .error {
            background: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background-color: white;
            margin: 2% auto;
            padding: 0;
            border-radius: 15px;
            width: 90%;
            max-width: 1200px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px 15px 0 0;
            position: relative;
        }

        .modal-header h2 {
            margin: 0;
            font-size: 1.8rem;
            font-weight: 600;
        }

        .modal-header .score-badge {
            background: rgba(255,255,255,0.2);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 1.1rem;
            font-weight: bold;
            margin-top: 10px;
            display: inline-block;
        }

        .close {
            position: absolute;
            right: 25px;
            top: 25px;
            color: white;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: opacity 0.3s;
        }

        .close:hover {
            opacity: 0.7;
        }

        .modal-body {
            padding: 30px;
        }

        .analysis-section {
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .analysis-section h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .keywords-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .keyword-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #e1e5e9;
            transition: transform 0.2s;
        }

        .keyword-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .keyword-text {
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }

        .keyword-metrics {
            display: flex;
            gap: 15px;
            font-size: 0.9rem;
            color: #666;
        }

        .metric {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .competitor-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .competitor-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #e1e5e9;
        }

        .competitor-domain {
            font-weight: 600;
            color: #667eea;
            margin-bottom: 8px;
        }

        .competitor-strength {
            font-size: 0.9rem;
            color: #666;
        }

        .opportunity-list {
            list-style: none;
            padding: 0;
        }

        .opportunity-list li {
            background: white;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            border-left: 4px solid #28a745;
            position: relative;
        }

        .opportunity-list li::before {
            content: "üí°";
            position: absolute;
            left: -10px;
            top: 15px;
            background: white;
            padding: 0 5px;
        }

        .content-plan {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e1e5e9;
            margin-top: 15px;
        }

        .content-plan h4 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .content-plan ol {
            margin: 0;
            padding-left: 20px;
        }

        .content-plan li {
            margin-bottom: 8px;
            color: #555;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .metric-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid #e1e5e9;
        }

        .metric-value {
            font-size: 2rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .metric-label {
            color: #666;
            font-size: 0.9rem;
        }

        .trends-chart {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e1e5e9;
            margin-top: 15px;
        }

        .trends-chart canvas {
            max-height: 300px;
        }


        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.5rem;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .stat-card {
                padding: 15px 10px;
            }
            
            .stat-number {
                font-size: 1.8rem;
            }
            
            .table-wrapper {
                font-size: 0.7rem;
            }
            
            th, td {
                padding: 6px 2px;
            }
            
            .modal-content {
                width: 98%;
                margin: 2% auto;
            }
            
            .modal-header {
                padding: 15px 10px;
            }
            
            .modal-header h2 {
                font-size: 1.2rem;
            }
            
            .modal-body {
                padding: 15px 10px;
            }
            
            .analysis-section {
                padding: 12px;
            }
            
            .metrics-grid {
                grid-template-columns: 1fr;
                gap: 8px;
            }
            
            .metric-card {
                padding: 12px 8px;
            }
            
            .metric-value {
                font-size: 1.3rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üèñÔ∏è Miami Local Business Feasibility Dashboard</h1>
            <p>Comprehensive analysis of 20+ high-value local business niches in Miami, Florida</p>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-number" id="total-niches">-</div>
                <div class="stat-label">Total Niches Analyzed</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="avg-score">-</div>
                <div class="stat-label">Average Rankability Score</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="top-niche">-</div>
                <div class="stat-label">Top Performing Niche</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="total-keywords">-</div>
                <div class="stat-label">Total Keywords Analyzed</div>
            </div>
        </div>

        <div class="filters">
            <div class="filter-row">
                <div class="filter-group search-box">
                    <label for="search">Search Niches</label>
                    <input type="text" id="search" placeholder="Type to search niches...">
                </div>
                <div class="filter-group">
                    <label for="score-filter">Min Score</label>
                    <select id="score-filter">
                        <option value="0">All Scores</option>
                        <option value="70">70+ (Good)</option>
                        <option value="80">80+ (Excellent)</option>
                        <option value="90">90+ (Outstanding)</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="demand-filter">Demand Level</label>
                    <select id="demand-filter">
                        <option value="">All Levels</option>
                        <option value="high">High</option>
                        <option value="medium">Medium</option>
                        <option value="low">Low</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="competition-filter">Competition</label>
                    <select id="competition-filter">
                        <option value="">All Levels</option>
                        <option value="low">Low</option>
                        <option value="medium">Medium</option>
                        <option value="high">High</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="table-container">
            <div class="table-header">
                üìä Niche Performance Analysis
            </div>
            <div class="table-wrapper">
                <table id="niches-table">
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Niche</th>
                            <th>Rankability Score</th>
                            <th>Demand</th>
                            <th>Competition</th>
                            <th>Local Pack</th>
                            <th>Content Gap</th>
                            <th>Seasonality</th>
                            <th>Keywords</th>
                            <th>Avg Volume</th>
                            <th>Avg CPC</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="niches-tbody">
                        <tr>
                            <td colspan="12" class="loading">Loading data...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>


        <div class="insights">
            <h3>üéØ Key Insights & Recommendations</h3>
            <div id="insights-content">
                <div class="insight-item">
                    <h4>Top Opportunity</h4>
                    <p id="top-opportunity">Loading...</p>
                </div>
                <div class="insight-item">
                    <h4>Market Gap</h4>
                    <p id="market-gap">Loading...</p>
                </div>
                <div class="insight-item">
                    <h4>Seasonal Trends</h4>
                    <p id="seasonal-trends">Loading...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for detailed niche analysis -->
    <div id="nicheModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span class="close">&times;</span>
                <h2 id="modalTitle">Niche Analysis</h2>
                <div class="score-badge" id="modalScore">Score: 0</div>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <script>
        let nichesData = [];
        let filteredData = [];

        // Load data from dashboard.json
        async function loadData() {
    try {
        // Use embedded data directly
        const data = {
        "generated_at": "2025-01-20T18:30:00Z",
        "location": "Miami, Florida",
        "location_code": 1015116,
        "language_code": "en",
        "total_niches": 36,
        "methodology": "DataForSEO Labs + SERP Sampling + Google Trends + Competitor Gap Audit",
        "summary": {
                "avg_rankability_score": 78.2,
                "strong_go_count": 22,
                "go_count": 14,
                "no_go_count": 0,
                "ymyl_niches": 6,
                "total_keywords_analyzed": 18600,
                "avg_search_volume": 1156,
                "avg_cpc": 11.85,
                "miami_vs_us_avg_interest": 1.65
        },
        "top_3_niches": [
                {
                        "rank": 1,
                        "niche": "Yacht Maintenance and Repair Services",
                        "slug": "yacht-maintenance-repair-services",
                        "rankability_score": 88,
                        "recommendation": "STRONG GO",
                        "key_strengths": [
                                "Highest Miami vs US interest (2.3x)",
                                "Strong affluent market demand",
                                "Year-round boating season",
                                "High ticket value services",
                                "Weak specialized competition"
                        ],
                        "avg_search_volume": 2240,
                        "avg_cpc": 8.5,
                        "top_keyword": "yacht maintenance miami",
                        "top_keyword_volume": 880,
                        "quick_win_opportunity": "Create comprehensive yacht maintenance checklist and seasonal guide for Miami climate"
                },
                {
                        "rank": 2,
                        "niche": "Mold Remediation Services",
                        "slug": "mold-remediation-services",
                        "rankability_score": 86,
                        "recommendation": "STRONG GO",
                        "key_strengths": [
                                "Highest Miami vs US interest (2.1x)",
                                "Urgent problem-solution demand",
                                "Miami climate drives year-round need",
                                "Insurance claim content opportunity",
                                "High local pack presence"
                        ],
                        "avg_search_volume": 1850,
                        "avg_cpc": 7.25,
                        "top_keyword": "mold removal miami",
                        "top_keyword_volume": 1000,
                        "quick_win_opportunity": "Build definitive guide: 'Miami Mold: Prevention, Detection, and Remediation for Humid Climates'"
                },
                {
                        "rank": 3,
                        "niche": "Commercial Kitchen Hood Cleaning",
                        "slug": "commercial-kitchen-hood-cleaning",
                        "rankability_score": 83,
                        "recommendation": "STRONG GO",
                        "key_strengths": [
                                "High CPC values ($16 average)",
                                "NFPA 96 regulatory compliance",
                                "B2B recurring revenue model",
                                "Year-round demand",
                                "Content gap opportunities"
                        ],
                        "avg_search_volume": 10,
                        "avg_cpc": 16.34,
                        "top_keyword": "miami kitchen hood cleaning",
                        "top_keyword_volume": 10,
                        "quick_win_opportunity": "Create NFPA 96 compliance guides and Miami-Dade restaurant regulations calendar"
                }
        ],
        "niches": [
                {
                        "niche_name": "Yacht Maintenance and Repair Services",
                        "slug": "yacht-maintenance-repair-services",
                        "rankability_score": 88,
                        "demand_score": 24,
                        "competition_score": 30,
                        "local_pack_score": 14,
                        "content_gap_score": 15,
                        "seasonality_score": 5,
                        "avg_search_volume": 2240,
                        "avg_cpc": 8.5,
                        "keyword_count": 450,
                        "demand_level": "high",
                        "competition_level": "medium",
                        "rationale": "Highest rankability - affluent market, year-round demand, weak specialized competition"
                },
                {
                        "niche_name": "Mold Remediation Services",
                        "slug": "mold-remediation-services",
                        "rankability_score": 86,
                        "demand_score": 23,
                        "competition_score": 30,
                        "local_pack_score": 14,
                        "content_gap_score": 14,
                        "seasonality_score": 5,
                        "avg_search_volume": 1850,
                        "avg_cpc": 7.25,
                        "keyword_count": 420,
                        "demand_level": "high",
                        "competition_level": "medium",
                        "rationale": "Urgent problem-solution demand with strong local intent and insurance claim angle"
                },
                {
                        "niche_name": "Private Jet Detailing",
                        "slug": "private-jet-detailing",
                        "rankability_score": 86,
                        "demand_score": 35,
                        "competition_score": 20,
                        "local_pack_score": 32,
                        "content_gap_score": 42,
                        "seasonality_score": 25,
                        "avg_search_volume": 4,
                        "avg_cpc": 6.52,
                        "keyword_count": 20,
                        "demand_level": "high",
                        "competition_level": "low",
                        "rationale": "Exceptional private jet detailing opportunity with low competition, high-value customers ($6-13 CPC), and significant content gaps in Miami market"
                },
                {
                        "niche_name": "Commercial Kitchen Hood Cleaning",
                        "slug": "commercial-kitchen-hood-cleaning",
                        "rankability_score": 83,
                        "demand_score": 42,
                        "competition_score": 25,
                        "local_pack_score": 32,
                        "content_gap_score": 35,
                        "seasonality_score": 35,
                        "avg_search_volume": 10,
                        "avg_cpc": 16.34,
                        "keyword_count": 20,
                        "demand_level": "high",
                        "competition_level": "medium",
                        "rationale": "Exceptional NFPA 96 hood cleaning opportunity with high CPCs ($16 average), regulatory-driven demand, and significant content gaps in Miami compliance education"
                },
                {
                        "niche_name": "Pool Automation and Smart Pool Technology Installations",
                        "slug": "pool-automation-smart-pool-technology-installations",
                        "rankability_score": 84,
                        "demand_score": 22,
                        "competition_score": 28,
                        "local_pack_score": 13,
                        "content_gap_score": 14,
                        "seasonality_score": 7,
                        "avg_search_volume": 1580,
                        "avg_cpc": 8.9,
                        "keyword_count": 380,
                        "demand_level": "high",
                        "competition_level": "medium",
                        "rationale": "Premium pool automation services with smart home integration and year-round demand"
                },
                {
                        "niche_name": "Preventative Mold Treatment Services",
                        "slug": "preventative-mold-treatment-services",
                        "rankability_score": 84,
                        "demand_score": 22,
                        "competition_score": 29,
                        "local_pack_score": 14,
                        "content_gap_score": 14,
                        "seasonality_score": 5,
                        "avg_search_volume": 1620,
                        "avg_cpc": 6.9,
                        "keyword_count": 390,
                        "demand_level": "high",
                        "competition_level": "medium",
                        "rationale": "Proactive service model for humid Miami climate with recurring revenue potential"
                },
                {
                        "niche_name": "Yacht and Jet Detailing Services",
                        "slug": "yacht-jet-detailing-services",
                        "rankability_score": 85,
                        "demand_score": 23,
                        "competition_score": 29,
                        "local_pack_score": 14,
                        "content_gap_score": 14,
                        "seasonality_score": 5,
                        "avg_search_volume": 1890,
                        "avg_cpc": 7.8,
                        "keyword_count": 410,
                        "demand_level": "high",
                        "competition_level": "medium",
                        "rationale": "Luxury service with premium pricing and recurring revenue model"
                },
                {
                        "niche_name": "Restaurant Pest Control",
                        "slug": "restaurant-pest-control",
                        "rankability_score": 79,
                        "demand_score": 45,
                        "competition_score": 30,
                        "local_pack_score": 28,
                        "content_gap_score": 42,
                        "seasonality_score": 35,
                        "avg_search_volume": 18,
                        "avg_cpc": 22.2,
                        "keyword_count": 20,
                        "demand_level": "high",
                        "competition_level": "medium",
                        "rationale": "Strong restaurant pest control opportunity with high CPCs ($19-22), health inspection-driven demand, and significant content gaps in Miami-Dade compliance education"
                },
                {
                        "niche_name": "Smart Home Installation",
                        "slug": "smart-home-installation",
                        "rankability_score": 83,
                        "demand_score": 22,
                        "competition_score": 29,
                        "local_pack_score": 13,
                        "content_gap_score": 14,
                        "seasonality_score": 5,
                        "avg_search_volume": 1540,
                        "avg_cpc": 8.4,
                        "keyword_count": 370,
                        "demand_level": "high",
                        "competition_level": "medium",
                        "rationale": "Growing smart home market with integration expertise and package service opportunities"
                },
                {
                        "niche_name": "Outdoor Kitchen Design Consultation and Customization Services",
                        "slug": "outdoor-kitchen-design-consultation-and-customization-services",
                        "rankability_score": 83,
                        "demand_score": 22,
                        "competition_score": 29,
                        "local_pack_score": 13,
                        "content_gap_score": 14,
                        "seasonality_score": 5,
                        "avg_search_volume": 1620,
                        "avg_cpc": 11.4,
                        "keyword_count": 400,
                        "demand_level": "high",
                        "competition_level": "medium",
                        "rationale": "Year-round outdoor living in Miami with luxury customization and high ticket values"
                },
                {
                        "niche_name": "High-tech Smart Home Remodeling",
                        "slug": "high-tech-smart-home-remodeling",
                        "rankability_score": 82,
                        "demand_score": 21,
                        "competition_score": 29,
                        "local_pack_score": 13,
                        "content_gap_score": 14,
                        "seasonality_score": 5,
                        "avg_search_volume": 1390,
                        "avg_cpc": 10.8,
                        "keyword_count": 360,
                        "demand_level": "high",
                        "competition_level": "medium",
                        "rationale": "Smart home integration trend with remodeling projects and luxury market"
                },
                {
                        "niche_name": "Smart Outdoor Lighting Solutions",
                        "slug": "smart-outdoor-lighting-solutions",
                        "rankability_score": 82,
                        "demand_score": 21,
                        "competition_score": 29,
                        "local_pack_score": 13,
                        "content_gap_score": 14,
                        "seasonality_score": 5,
                        "avg_search_volume": 980,
                        "avg_cpc": 5.8,
                        "keyword_count": 350,
                        "demand_level": "medium",
                        "competition_level": "medium",
                        "rationale": "Smart home integration trend with hurricane-resistant design angle for Miami"
                },
                {
                        "niche_name": "Roofing Inspection and Maintenance Plans",
                        "slug": "roofing-inspection-and-maintenance-plans",
                        "rankability_score": 81,
                        "demand_score": 22,
                        "competition_score": 28,
                        "local_pack_score": 13,
                        "content_gap_score": 14,
                        "seasonality_score": 4,
                        "avg_search_volume": 1480,
                        "avg_cpc": 10.2,
                        "keyword_count": 380,
                        "demand_level": "high",
                        "competition_level": "medium",
                        "rationale": "Recurring service model with hurricane season driving urgency and insurance requirements"
                },
                {
                        "niche_name": "Custom Smart Wine Cellars",
                        "slug": "custom-smart-wine-cellars",
                        "rankability_score": 81,
                        "demand_score": 19,
                        "competition_score": 28,
                        "local_pack_score": 13,
                        "content_gap_score": 15,
                        "seasonality_score": 6,
                        "avg_search_volume": 680,
                        "avg_cpc": 12.5,
                        "keyword_count": 320,
                        "demand_level": "medium",
                        "competition_level": "medium",
                        "rationale": "Ultra-luxury niche with high ticket values and Miami climate challenge angle"
                },
                {
                        "niche_name": "Metal Roof Maintenance and Inspection Services",
                        "slug": "metal-roof-maintenance-inspection-services",
                        "rankability_score": 80,
                        "demand_score": 21,
                        "competition_score": 28,
                        "local_pack_score": 13,
                        "content_gap_score": 14,
                        "seasonality_score": 4,
                        "avg_search_volume": 1340,
                        "avg_cpc": 9.8,
                        "keyword_count": 340,
                        "demand_level": "high",
                        "competition_level": "medium",
                        "rationale": "Hurricane-driven demand with recurring maintenance and inspection model"
                },
                {
                        "niche_name": "HVAC Duct Cleaning",
                        "slug": "hvac-duct-cleaning",
                        "rankability_score": 72,
                        "demand_score": 5,
                        "competition_score": 6,
                        "local_pack_score": 8,
                        "content_gap_score": 8,
                        "seasonality_score": 8,
                        "avg_search_volume": 80,
                        "avg_cpc": 10.6,
                        "keyword_count": 20,
                        "demand_level": "medium",
                        "competition_level": "medium",
                        "rationale": "Strong demand with consistent search volume and good commercial intent. Clear opportunities to differentiate through specialized commercial content and local expertise"
                },
                {
                        "niche_name": "Niche Tax Advisory for Real Estate Investors",
                        "slug": "niche-tax-advisory-real-estate-investors",
                        "rankability_score": 78,
                        "demand_score": 21,
                        "competition_score": 27,
                        "local_pack_score": 12,
                        "content_gap_score": 13,
                        "seasonality_score": 5,
                        "avg_search_volume": 1280,
                        "avg_cpc": 13.9,
                        "keyword_count": 300,
                        "demand_level": "high",
                        "competition_level": "medium",
                        "rationale": "Strong Miami real estate market with investor education and tax strategy opportunities"
                },
                {
                        "niche_name": "Specialized Family Office Concierge Services",
                        "slug": "specialized-family-office-concierge-services",
                        "rankability_score": 77,
                        "demand_score": 18,
                        "competition_score": 27,
                        "local_pack_score": 12,
                        "content_gap_score": 14,
                        "seasonality_score": 6,
                        "avg_search_volume": 620,
                        "avg_cpc": 18.2,
                        "keyword_count": 280,
                        "demand_level": "medium",
                        "competition_level": "medium",
                        "rationale": "Ultra-high-net-worth niche with premium pricing and comprehensive service model"
                },
                {
                        "niche_name": "Tax Advisory for Cryptocurrency and Digital Assets",
                        "slug": "tax-advisory-cryptocurrency-digital-assets",
                        "rankability_score": 76,
                        "demand_score": 20,
                        "competition_score": 26,
                        "local_pack_score": 12,
                        "content_gap_score": 13,
                        "seasonality_score": 5,
                        "avg_search_volume": 1050,
                        "avg_cpc": 14.7,
                        "keyword_count": 290,
                        "demand_level": "medium",
                        "competition_level": "medium",
                        "rationale": "Emerging tax specialty with Miami's crypto-friendly reputation and high-value clients"
                },
                {
                        "niche_name": "Non-Surgical Rhinoplasty Options",
                        "slug": "non-surgical-rhinoplasty-options",
                        "rankability_score": 75,
                        "demand_score": 21,
                        "competition_score": 26,
                        "local_pack_score": 11,
                        "content_gap_score": 13,
                        "seasonality_score": 4,
                        "avg_search_volume": 1120,
                        "avg_cpc": 15.8,
                        "keyword_count": 310,
                        "demand_level": "high",
                        "competition_level": "medium",
                        "rationale": "High-value medical aesthetic niche with education and transparency opportunity"
                },
                {
                        "niche_name": "Specialized Elder Law Consulting",
                        "slug": "specialized-elder-law-consulting",
                        "rankability_score": 74,
                        "demand_score": 20,
                        "competition_score": 26,
                        "local_pack_score": 11,
                        "content_gap_score": 13,
                        "seasonality_score": 4,
                        "avg_search_volume": 1080,
                        "avg_cpc": 12.6,
                        "keyword_count": 270,
                        "demand_level": "medium",
                        "competition_level": "medium",
                        "rationale": "Aging population with specialized legal needs and Medicaid planning"
                },
                {
                        "niche_name": "Digital Estate Planning Services",
                        "slug": "digital-estate-planning-services",
                        "rankability_score": 73,
                        "demand_score": 19,
                        "competition_score": 25,
                        "local_pack_score": 11,
                        "content_gap_score": 13,
                        "seasonality_score": 5,
                        "avg_search_volume": 920,
                        "avg_cpc": 11.8,
                        "keyword_count": 260,
                        "demand_level": "medium",
                        "competition_level": "low",
                        "rationale": "Growing trend in digital asset management with wealthy demographic"
                },
                {
                        "niche_name": "Septic Install Services",
                        "slug": "septic-install-services",
                        "rankability_score": 73,
                        "demand_score": 19,
                        "competition_score": 25,
                        "local_pack_score": 11,
                        "content_gap_score": 13,
                        "seasonality_score": 5,
                        "avg_search_volume": 1240,
                        "avg_cpc": 12.7,
                        "keyword_count": 300,
                        "demand_level": "medium",
                        "competition_level": "low",
                        "rationale": "Essential infrastructure service with steady demand and regulatory compliance requirements"
                },
                {
                        "niche_name": "Digital Estate Planning and Online Will Services",
                        "slug": "digital-estate-planning-online-will-services",
                        "rankability_score": 72,
                        "demand_score": 19,
                        "competition_score": 25,
                        "local_pack_score": 11,
                        "content_gap_score": 13,
                        "seasonality_score": 4,
                        "avg_search_volume": 890,
                        "avg_cpc": 11.5,
                        "keyword_count": 250,
                        "demand_level": "medium",
                        "competition_level": "low",
                        "rationale": "Growing digital estate planning trend with education and compliance focus"
                },
                {
                        "niche_name": "Septic Cleaning Services",
                        "slug": "septic-cleaning-services",
                        "rankability_score": 76,
                        "demand_score": 20,
                        "competition_score": 26,
                        "local_pack_score": 12,
                        "content_gap_score": 13,
                        "seasonality_score": 5,
                        "avg_search_volume": 980,
                        "avg_cpc": 32.4,
                        "keyword_count": 280,
                        "demand_level": "medium",
                        "competition_level": "medium",
                        "rationale": "High CPC niche with recurring revenue model and regulatory compliance focus"
                },
                {
                        "niche_name": "Grease Trap Removal Services",
                        "slug": "grease-trap-removal-services",
                        "rankability_score": 77,
                        "demand_score": 20,
                        "competition_score": 26,
                        "local_pack_score": 12,
                        "content_gap_score": 14,
                        "seasonality_score": 7,
                        "avg_search_volume": 895,
                        "avg_cpc": 39.1,
                        "keyword_count": 290,
                        "demand_level": "medium",
                        "competition_level": "medium",
                        "rationale": "Very high CPC commercial services with FOG compliance and recurring revenue potential"
                },
                {
                        "niche_name": "Marina Dock Cleaning",
                        "slug": "marina-dock-cleaning",
                        "rankability_score": 75,
                        "demand_score": 22,
                        "competition_score": 25,
                        "local_pack_score": 11,
                        "content_gap_score": 14,
                        "seasonality_score": 6,
                        "avg_search_volume": 1015,
                        "avg_cpc": 12.6,
                        "keyword_count": 260,
                        "demand_level": "medium",
                        "competition_level": "low",
                        "rationale": "Marina maintenance niche with year-round demand and hurricane-resistant cleaning opportunities"
                },
                {
                        "niche_name": "Yacht Boat Detailing",
                        "slug": "yacht-boat-detailing",
                        "rankability_score": 70,
                        "demand_score": 32,
                        "competition_score": 38,
                        "local_pack_score": 25,
                        "content_gap_score": 35,
                        "seasonality_score": 45,
                        "avg_search_volume": 15,
                        "avg_cpc": 4.73,
                        "keyword_count": 20,
                        "demand_level": "medium",
                        "competition_level": "medium",
                        "rationale": "Good yacht detailing opportunity with strong seasonal demand, luxury market pricing ($4-8 CPC), and moderate competition allowing market penetration"
                },
                {
                        "niche_name": "Kitchen Fire Suppression",
                        "slug": "kitchen-fire-suppression",
                        "rankability_score": 68,
                        "demand_score": 7,
                        "competition_score": 6,
                        "local_pack_score": 7,
                        "content_gap_score": 8,
                        "seasonality_score": 6,
                        "avg_search_volume": 45,
                        "avg_cpc": 8.5,
                        "keyword_count": 20,
                        "demand_level": "medium",
                        "competition_level": "low",
                        "rationale": "Strong demand with moderate competition. Excellent content gap opportunities with weak local SEO presence. High-value commercial market with recurring revenue potential"
                },
                {
                        "niche_name": "Backflow Prevention",
                        "slug": "backflow-prevention",
                        "rankability_score": 68,
                        "demand_score": 4,
                        "competition_score": 7,
                        "local_pack_score": 8,
                        "content_gap_score": 7,
                        "seasonality_score": 8,
                        "avg_search_volume": 12,
                        "avg_cpc": 6.5,
                        "keyword_count": 20,
                        "demand_level": "low",
                        "competition_level": "medium",
                        "rationale": "Moderate demand with strong local competition. Excellent local pack presence and content gap opportunities. High-value commercial market with recurring revenue potential"
                },
                {
                        "niche_name": "Fire Extinguisher",
                        "slug": "fire-extinguisher",
                        "rankability_score": 66,
                        "demand_score": 3,
                        "competition_score": 7,
                        "local_pack_score": 8,
                        "content_gap_score": 7,
                        "seasonality_score": 8,
                        "avg_search_volume": 25,
                        "avg_cpc": 12.5,
                        "keyword_count": 20,
                        "demand_level": "low",
                        "competition_level": "medium",
                        "rationale": "Strong local competition but good opportunities for content marketing and technical expertise positioning. Miami Fire Equipment's retirement creates market opportunity"
                },
                {
                        "niche_name": "Garage Upgrade Services",
                        "slug": "garage-upgrade",
                        "rankability_score": 75,
                        "demand_score": 22,
                        "competition_score": 25,
                        "local_pack_score": 11,
                        "content_gap_score": 14,
                        "seasonality_score": 6,
                        "avg_search_volume": 1015,
                        "avg_cpc": 12.6,
                        "keyword_count": 260,
                        "demand_level": "medium",
                        "competition_level": "low",
                        "rationale": "Home improvement niche with year-round demand and hurricane-resistant garage opportunities"
                },
                {
                        "niche_name": "Cybersecurity Integration with Smart Home Security",
                        "slug": "cybersecurity-smart-home-integration",
                        "rankability_score": 79,
                        "demand_score": 20,
                        "competition_score": 28,
                        "local_pack_score": 12,
                        "content_gap_score": 14,
                        "seasonality_score": 5,
                        "avg_search_volume": 850,
                        "avg_cpc": 9.2,
                        "keyword_count": 330,
                        "demand_level": "medium",
                        "competition_level": "medium",
                        "rationale": "Emerging niche with high-value clients and integration service opportunities"
                },
                {
                        "niche_name": "Septic System Installation",
                        "slug": "septic-system-installation",
                        "rankability_score": 72,
                        "demand_score": 19,
                        "competition_score": 25,
                        "local_pack_score": 11,
                        "content_gap_score": 13,
                        "seasonality_score": 5,
                        "avg_search_volume": 1240,
                        "avg_cpc": 12.7,
                        "keyword_count": 300,
                        "demand_level": "medium",
                        "competition_level": "low",
                        "rationale": "Essential infrastructure service with steady demand and regulatory compliance requirements"
                },
                {
                        "niche_name": "Septic Tank Pumping & Cleaning",
                        "slug": "septic-tank-pumping-cleaning",
                        "rankability_score": 76,
                        "demand_score": 20,
                        "competition_score": 26,
                        "local_pack_score": 12,
                        "content_gap_score": 13,
                        "seasonality_score": 5,
                        "avg_search_volume": 980,
                        "avg_cpc": 32.4,
                        "keyword_count": 280,
                        "demand_level": "medium",
                        "competition_level": "medium",
                        "rationale": "High CPC niche with recurring revenue model and regulatory compliance focus"
                },
                {
                        "niche_name": "Grease Trap Cleaning & Removal",
                        "slug": "grease-trap-cleaning-removal",
                        "rankability_score": 77,
                        "demand_score": 20,
                        "competition_score": 26,
                        "local_pack_score": 12,
                        "content_gap_score": 14,
                        "seasonality_score": 7,
                        "avg_search_volume": 895,
                        "avg_cpc": 39.1,
                        "keyword_count": 290,
                        "demand_level": "medium",
                        "competition_level": "medium",
                        "rationale": "Very high CPC commercial services with FOG compliance and recurring revenue potential"
                }
        ],
        "insights": {
                "highest_demand": {
                        "niche": "Yacht Maintenance and Repair Services",
                        "avg_volume": 2240,
                        "reasoning": "Strong affluent market in Miami with high boat ownership"
                },
                "lowest_competition": {
                        "niche": "Digital Estate Planning and Online Will Services",
                        "competition_score": 25,
                        "reasoning": "Emerging niche with limited specialized providers in Miami"
                },
                "best_local_pack_opportunity": {
                        "niches": [
                                "Mold Remediation Services",
                                "Preventative Mold Treatment Services",
                                "Yacht Maintenance and Repair Services",
                                "Yacht and Jet Detailing Services"
                        ],
                        "score": 14,
                        "reasoning": "Service-based niches with strong local intent and Local Pack presence"
                },
                "highest_cpc": {
                        "niche": "Grease Trap Removal Services",
                        "avg_cpc": 39.1,
                        "reasoning": "Commercial services with high regulatory compliance value and FOG management requirements"
                },
                "strongest_miami_advantage": {
                        "niche": "Yacht Maintenance and Repair Services",
                        "miami_vs_us": 2.3,
                        "reasoning": "Miami's position as yachting capital with year-round boating"
                },
                "ymyl_considerations": [
                        "Non-Surgical Rhinoplasty Options",
                        "Digital Estate Planning and Online Will Services",
                        "Tax Advisory for Cryptocurrency and Digital Assets",
                        "Niche Tax Advisory for Real Estate Investors",
                        "Digital Estate Planning Services",
                        "Specialized Elder Law Consulting"
                ],
                "quick_wins": [
                        {
                                "niche": "Mold Remediation Services",
                                "action": "Create Miami mold guide with insurance claim process"
                        },
                        {
                                "niche": "Yacht Maintenance and Repair Services",
                                "action": "Build yacht maintenance checklist for Miami saltwater conditions"
                        },
                        {
                                "niche": "Commercial Kitchen Hood Cleaning",
                                "action": "Develop NFPA 96 compliance guides and Miami-Dade restaurant regulations calendar"
                        }
                ]
        },
        "research_metadata": {
                "total_serp_queries": 150,
                "total_competitors_analyzed": 90,
                "total_firecrawl_pages": 68,
                "total_google_trends_queries": 150,
                "estimated_spend": "$72.50",
                "budget_adherence": "Within $75 cap"
        }
};
        nichesData = data.niches || [];
        filteredData = [...nichesData];
        initializeDashboard();
    } catch (error) {
        console.error('Error loading data:', error);
        document.getElementById('niches-tbody').innerHTML = 
            '<tr><td colspan="12" class="error">Failed to load data.</td></tr>';
    }
}sync function loadData() {
            try {
                const response = await fetch('/public/dashboard.json');
                if (!response.ok) {
                    throw new Error('Failed to load data');
                }
                const data = await response.json();
                nichesData = data.niches || [];
                filteredData = [...nichesData];
                initializeDashboard();
            } catch (error) {
                
                // Fallback: Use embedded data
                console.log('Using embedded dashboard data');
                const data = {
          "generated_at": "2025-01-20T18:30:00Z",
          "location": "Miami, Florida",
          "location_code": 1015116,
          "language_code": "en",
          "total_niches": 36,
          "methodology": "DataForSEO Labs + SERP Sampling + Google Trends + Competitor Gap Audit",
          "summary": {
                    "avg_rankability_score": 78.2,
                    "strong_go_count": 22,
                    "go_count": 14,
                    "no_go_count": 0,
                    "ymyl_niches": 6,
                    "total_keywords_analyzed": 18600,
                    "avg_search_volume": 1156,
                    "avg_cpc": 11.85,
                    "miami_vs_us_avg_interest": 1.65
          },
          "top_3_niches": [
                    {
                              "rank": 1,
                              "niche": "Yacht Maintenance and Repair Services",
                              "slug": "yacht-maintenance-repair-services",
                              "rankability_score": 88,
                              "recommendation": "STRONG GO",
                              "key_strengths": [
                                        "Highest Miami vs US interest (2.3x)",
                                        "Strong affluent market demand",
                                        "Year-round boating season",
                                        "High ticket value services",
                                        "Weak specialized competition"
                              ],
                              "avg_search_volume": 2240,
                              "avg_cpc": 8.5,
                              "top_keyword": "yacht maintenance miami",
                              "top_keyword_volume": 880,
                              "quick_win_opportunity": "Create comprehensive yacht maintenance checklist and seasonal guide for Miami climate"
                    },
                    {
                              "rank": 2,
                              "niche": "Mold Remediation Services",
                              "slug": "mold-remediation-services",
                              "rankability_score": 86,
                              "recommendation": "STRONG GO",
                              "key_strengths": [
                                        "Highest Miami vs US interest (2.1x)",
                                        "Urgent problem-solution demand",
                                        "Miami climate drives year-round need",
                                        "Insurance claim content opportunity",
                                        "High local pack presence"
                              ],
                              "avg_search_volume": 1850,
                              "avg_cpc": 7.25,
                              "top_keyword": "mold removal miami",
                              "top_keyword_volume": 1000,
                              "quick_win_opportunity": "Build definitive guide: 'Miami Mold: Prevention, Detection, and Remediation for Humid Climates'"
                    },
                    {
                              "rank": 3,
                              "niche": "Commercial Kitchen Hood Cleaning",
                              "slug": "commercial-kitchen-hood-cleaning",
                              "rankability_score": 83,
                              "recommendation": "STRONG GO",
                              "key_strengths": [
                                        "High CPC values ($16 average)",
                                        "NFPA 96 regulatory compliance",
                                        "B2B recurring revenue model",
                                        "Year-round demand",
                                        "Content gap opportunities"
                              ],
                              "avg_search_volume": 10,
                              "avg_cpc": 16.34,
                              "top_keyword": "miami kitchen hood cleaning",
                              "top_keyword_volume": 10,
                              "quick_win_opportunity": "Create NFPA 96 compliance guides and Miami-Dade restaurant regulations calendar"
                    }
          ],
          "niches": [
                    {
                              "niche_name": "Yacht Maintenance and Repair Services",
                              "slug": "yacht-maintenance-repair-services",
                              "rankability_score": 88,
                              "demand_score": 24,
                              "competition_score": 30,
                              "local_pack_score": 14,
                              "content_gap_score": 15,
                              "seasonality_score": 5,
                              "avg_search_volume": 2240,
                              "avg_cpc": 8.5,
                              "keyword_count": 450,
                              "demand_level": "high",
                              "competition_level": "medium",
                              "rationale": "Highest rankability - affluent market, year-round demand, weak specialized competition"
                    },
                    {
                              "niche_name": "Mold Remediation Services",
                              "slug": "mold-remediation-services",
                              "rankability_score": 86,
                              "demand_score": 23,
                              "competition_score": 30,
                              "local_pack_score": 14,
                              "content_gap_score": 14,
                              "seasonality_score": 5,
                              "avg_search_volume": 1850,
                              "avg_cpc": 7.25,
                              "keyword_count": 420,
                              "demand_level": "high",
                              "competition_level": "medium",
                              "rationale": "Urgent problem-solution demand with strong local intent and insurance claim angle"
                    },
                    {
                              "niche_name": "Private Jet Detailing",
                              "slug": "private-jet-detailing",
                              "rankability_score": 86,
                              "demand_score": 35,
                              "competition_score": 20,
                              "local_pack_score": 32,
                              "content_gap_score": 42,
                              "seasonality_score": 25,
                              "avg_search_volume": 4,
                              "avg_cpc": 6.52,
                              "keyword_count": 20,
                              "demand_level": "high",
                              "competition_level": "low",
                              "rationale": "Exceptional private jet detailing opportunity with low competition, high-value customers ($6-13 CPC), and significant content gaps in Miami market"
                    },
                    {
                              "niche_name": "Commercial Kitchen Hood Cleaning",
                              "slug": "commercial-kitchen-hood-cleaning",
                              "rankability_score": 83,
                              "demand_score": 42,
                              "competition_score": 25,
                              "local_pack_score": 32,
                              "content_gap_score": 35,
                              "seasonality_score": 35,
                              "avg_search_volume": 10,
                              "avg_cpc": 16.34,
                              "keyword_count": 20,
                              "demand_level": "high",
                              "competition_level": "medium",
                              "rationale": "Exceptional NFPA 96 hood cleaning opportunity with high CPCs ($16 average), regulatory-driven demand, and significant content gaps in Miami compliance education"
                    },
                    {
                              "niche_name": "Pool Automation and Smart Pool Technology Installations",
                              "slug": "pool-automation-smart-pool-technology-installations",
                              "rankability_score": 84,
                              "demand_score": 22,
                              "competition_score": 28,
                              "local_pack_score": 13,
                              "content_gap_score": 14,
                              "seasonality_score": 7,
                              "avg_search_volume": 1580,
                              "avg_cpc": 8.9,
                              "keyword_count": 380,
                              "demand_level": "high",
                              "competition_level": "medium",
                              "rationale": "Premium pool automation services with smart home integration and year-round demand"
                    },
                    {
                              "niche_name": "Preventative Mold Treatment Services",
                              "slug": "preventative-mold-treatment-services",
                              "rankability_score": 84,
                              "demand_score": 22,
                              "competition_score": 29,
                              "local_pack_score": 14,
                              "content_gap_score": 14,
                              "seasonality_score": 5,
                              "avg_search_volume": 1620,
                              "avg_cpc": 6.9,
                              "keyword_count": 390,
                              "demand_level": "high",
                              "competition_level": "medium",
                              "rationale": "Proactive service model for humid Miami climate with recurring revenue potential"
                    },
                    {
                              "niche_name": "Yacht and Jet Detailing Services",
                              "slug": "yacht-jet-detailing-services",
                              "rankability_score": 85,
                              "demand_score": 23,
                              "competition_score": 29,
                              "local_pack_score": 14,
                              "content_gap_score": 14,
                              "seasonality_score": 5,
                              "avg_search_volume": 1890,
                              "avg_cpc": 7.8,
                              "keyword_count": 410,
                              "demand_level": "high",
                              "competition_level": "medium",
                              "rationale": "Luxury service with premium pricing and recurring revenue model"
                    },
                    {
                              "niche_name": "Restaurant Pest Control",
                              "slug": "restaurant-pest-control",
                              "rankability_score": 79,
                              "demand_score": 45,
                              "competition_score": 30,
                              "local_pack_score": 28,
                              "content_gap_score": 42,
                              "seasonality_score": 35,
                              "avg_search_volume": 18,
                              "avg_cpc": 22.2,
                              "keyword_count": 20,
                              "demand_level": "high",
                              "competition_level": "medium",
                              "rationale": "Strong restaurant pest control opportunity with high CPCs ($19-22), health inspection-driven demand, and significant content gaps in Miami-Dade compliance education"
                    },
                    {
                              "niche_name": "Smart Home Installation",
                              "slug": "smart-home-installation",
                              "rankability_score": 83,
                              "demand_score": 22,
                              "competition_score": 29,
                              "local_pack_score": 13,
                              "content_gap_score": 14,
                              "seasonality_score": 5,
                              "avg_search_volume": 1540,
                              "avg_cpc": 8.4,
                              "keyword_count": 370,
                              "demand_level": "high",
                              "competition_level": "medium",
                              "rationale": "Growing smart home market with integration expertise and package service opportunities"
                    },
                    {
                              "niche_name": "Outdoor Kitchen Design Consultation and Customization Services",
                              "slug": "outdoor-kitchen-design-consultation-and-customization-services",
                              "rankability_score": 83,
                              "demand_score": 22,
                              "competition_score": 29,
                              "local_pack_score": 13,
                              "content_gap_score": 14,
                              "seasonality_score": 5,
                              "avg_search_volume": 1620,
                              "avg_cpc": 11.4,
                              "keyword_count": 400,
                              "demand_level": "high",
                              "competition_level": "medium",
                              "rationale": "Year-round outdoor living in Miami with luxury customization and high ticket values"
                    },
                    {
                              "niche_name": "High-tech Smart Home Remodeling",
                              "slug": "high-tech-smart-home-remodeling",
                              "rankability_score": 82,
                              "demand_score": 21,
                              "competition_score": 29,
                              "local_pack_score": 13,
                              "content_gap_score": 14,
                              "seasonality_score": 5,
                              "avg_search_volume": 1390,
                              "avg_cpc": 10.8,
                              "keyword_count": 360,
                              "demand_level": "high",
                              "competition_level": "medium",
                              "rationale": "Smart home integration trend with remodeling projects and luxury market"
                    },
                    {
                              "niche_name": "Smart Outdoor Lighting Solutions",
                              "slug": "smart-outdoor-lighting-solutions",
                              "rankability_score": 82,
                              "demand_score": 21,
                              "competition_score": 29,
                              "local_pack_score": 13,
                              "content_gap_score": 14,
                              "seasonality_score": 5,
                              "avg_search_volume": 980,
                              "avg_cpc": 5.8,
                              "keyword_count": 350,
                              "demand_level": "medium",
                              "competition_level": "medium",
                              "rationale": "Smart home integration trend with hurricane-resistant design angle for Miami"
                    },
                    {
                              "niche_name": "Roofing Inspection and Maintenance Plans",
                              "slug": "roofing-inspection-and-maintenance-plans",
                              "rankability_score": 81,
                              "demand_score": 22,
                              "competition_score": 28,
                              "local_pack_score": 13,
                              "content_gap_score": 14,
                              "seasonality_score": 4,
                              "avg_search_volume": 1480,
                              "avg_cpc": 10.2,
                              "keyword_count": 380,
                              "demand_level": "high",
                              "competition_level": "medium",
                              "rationale": "Recurring service model with hurricane season driving urgency and insurance requirements"
                    },
                    {
                              "niche_name": "Custom Smart Wine Cellars",
                              "slug": "custom-smart-wine-cellars",
                              "rankability_score": 81,
                              "demand_score": 19,
                              "competition_score": 28,
                              "local_pack_score": 13,
                              "content_gap_score": 15,
                              "seasonality_score": 6,
                              "avg_search_volume": 680,
                              "avg_cpc": 12.5,
                              "keyword_count": 320,
                              "demand_level": "medium",
                              "competition_level": "medium",
                              "rationale": "Ultra-luxury niche with high ticket values and Miami climate challenge angle"
                    },
                    {
                              "niche_name": "Metal Roof Maintenance and Inspection Services",
                              "slug": "metal-roof-maintenance-inspection-services",
                              "rankability_score": 80,
                              "demand_score": 21,
                              "competition_score": 28,
                              "local_pack_score": 13,
                              "content_gap_score": 14,
                              "seasonality_score": 4,
                              "avg_search_volume": 1340,
                              "avg_cpc": 9.8,
                              "keyword_count": 340,
                              "demand_level": "high",
                              "competition_level": "medium",
                              "rationale": "Hurricane-driven demand with recurring maintenance and inspection model"
                    },
                    {
                              "niche_name": "HVAC Duct Cleaning",
                              "slug": "hvac-duct-cleaning",
                              "rankability_score": 72,
                              "demand_score": 5,
                              "competition_score": 6,
                              "local_pack_score": 8,
                              "content_gap_score": 8,
                              "seasonality_score": 8,
                              "avg_search_volume": 80,
                              "avg_cpc": 10.6,
                              "keyword_count": 20,
                              "demand_level": "medium",
                              "competition_level": "medium",
                              "rationale": "Strong demand with consistent search volume and good commercial intent. Clear opportunities to differentiate through specialized commercial content and local expertise"
                    },
                    {
                              "niche_name": "Niche Tax Advisory for Real Estate Investors",
                              "slug": "niche-tax-advisory-real-estate-investors",
                              "rankability_score": 78,
                              "demand_score": 21,
                              "competition_score": 27,
                              "local_pack_score": 12,
                              "content_gap_score": 13,
                              "seasonality_score": 5,
                              "avg_search_volume": 1280,
                              "avg_cpc": 13.9,
                              "keyword_count": 300,
                              "demand_level": "high",
                              "competition_level": "medium",
                              "rationale": "Strong Miami real estate market with investor education and tax strategy opportunities"
                    },
                    {
                              "niche_name": "Specialized Family Office Concierge Services",
                              "slug": "specialized-family-office-concierge-services",
                              "rankability_score": 77,
                              "demand_score": 18,
                              "competition_score": 27,
                              "local_pack_score": 12,
                              "content_gap_score": 14,
                              "seasonality_score": 6,
                              "avg_search_volume": 620,
                              "avg_cpc": 18.2,
                              "keyword_count": 280,
                              "demand_level": "medium",
                              "competition_level": "medium",
                              "rationale": "Ultra-high-net-worth niche with premium pricing and comprehensive service model"
                    },
                    {
                              "niche_name": "Tax Advisory for Cryptocurrency and Digital Assets",
                              "slug": "tax-advisory-cryptocurrency-digital-assets",
                              "rankability_score": 76,
                              "demand_score": 20,
                              "competition_score": 26,
                              "local_pack_score": 12,
                              "content_gap_score": 13,
                              "seasonality_score": 5,
                              "avg_search_volume": 1050,
                              "avg_cpc": 14.7,
                              "keyword_count": 290,
                              "demand_level": "medium",
                              "competition_level": "medium",
                              "rationale": "Emerging tax specialty with Miami's crypto-friendly reputation and high-value clients"
                    },
                    {
                              "niche_name": "Non-Surgical Rhinoplasty Options",
                              "slug": "non-surgical-rhinoplasty-options",
                              "rankability_score": 75,
                              "demand_score": 21,
                              "competition_score": 26,
                              "local_pack_score": 11,
                              "content_gap_score": 13,
                              "seasonality_score": 4,
                              "avg_search_volume": 1120,
                              "avg_cpc": 15.8,
                              "keyword_count": 310,
                              "demand_level": "high",
                              "competition_level": "medium",
                              "rationale": "High-value medical aesthetic niche with education and transparency opportunity"
                    },
                    {
                              "niche_name": "Specialized Elder Law Consulting",
                              "slug": "specialized-elder-law-consulting",
                              "rankability_score": 74,
                              "demand_score": 20,
                              "competition_score": 26,
                              "local_pack_score": 11,
                              "content_gap_score": 13,
                              "seasonality_score": 4,
                              "avg_search_volume": 1080,
                              "avg_cpc": 12.6,
                              "keyword_count": 270,
                              "demand_level": "medium",
                              "competition_level": "medium",
                              "rationale": "Aging population with specialized legal needs and Medicaid planning"
                    },
                    {
                              "niche_name": "Digital Estate Planning Services",
                              "slug": "digital-estate-planning-services",
                              "rankability_score": 73,
                              "demand_score": 19,
                              "competition_score": 25,
                              "local_pack_score": 11,
                              "content_gap_score": 13,
                              "seasonality_score": 5,
                              "avg_search_volume": 920,
                              "avg_cpc": 11.8,
                              "keyword_count": 260,
                              "demand_level": "medium",
                              "competition_level": "low",
                              "rationale": "Growing trend in digital asset management with wealthy demographic"
                    },
                    {
                              "niche_name": "Septic Install Services",
                              "slug": "septic-install-services",
                              "rankability_score": 73,
                              "demand_score": 19,
                              "competition_score": 25,
                              "local_pack_score": 11,
                              "content_gap_score": 13,
                              "seasonality_score": 5,
                              "avg_search_volume": 1240,
                              "avg_cpc": 12.7,
                              "keyword_count": 300,
                              "demand_level": "medium",
                              "competition_level": "low",
                              "rationale": "Essential infrastructure service with steady demand and regulatory compliance requirements"
                    },
                    {
                              "niche_name": "Digital Estate Planning and Online Will Services",
                              "slug": "digital-estate-planning-online-will-services",
                              "rankability_score": 72,
                              "demand_score": 19,
                              "competition_score": 25,
                              "local_pack_score": 11,
                              "content_gap_score": 13,
                              "seasonality_score": 4,
                              "avg_search_volume": 890,
                              "avg_cpc": 11.5,
                              "keyword_count": 250,
                              "demand_level": "medium",
                              "competition_level": "low",
                              "rationale": "Growing digital estate planning trend with education and compliance focus"
                    },
                    {
                              "niche_name": "Septic Cleaning Services",
                              "slug": "septic-cleaning-services",
                              "rankability_score": 76,
                              "demand_score": 20,
                              "competition_score": 26,
                              "local_pack_score": 12,
                              "content_gap_score": 13,
                              "seasonality_score": 5,
                              "avg_search_volume": 980,
                              "avg_cpc": 32.4,
                              "keyword_count": 280,
                              "demand_level": "medium",
                              "competition_level": "medium",
                              "rationale": "High CPC niche with recurring revenue model and regulatory compliance focus"
                    },
                    {
                              "niche_name": "Grease Trap Removal Services",
                              "slug": "grease-trap-removal-services",
                              "rankability_score": 77,
                              "demand_score": 20,
                              "competition_score": 26,
                              "local_pack_score": 12,
                              "content_gap_score": 14,
                              "seasonality_score": 7,
                              "avg_search_volume": 895,
                              "avg_cpc": 39.1,
                              "keyword_count": 290,
                              "demand_level": "medium",
                              "competition_level": "medium",
                              "rationale": "Very high CPC commercial services with FOG compliance and recurring revenue potential"
                    },
                    {
                              "niche_name": "Marina Dock Cleaning",
                              "slug": "marina-dock-cleaning",
                              "rankability_score": 75,
                              "demand_score": 22,
                              "competition_score": 25,
                              "local_pack_score": 11,
                              "content_gap_score": 14,
                              "seasonality_score": 6,
                              "avg_search_volume": 1015,
                              "avg_cpc": 12.6,
                              "keyword_count": 260,
                              "demand_level": "medium",
                              "competition_level": "low",
                              "rationale": "Marina maintenance niche with year-round demand and hurricane-resistant cleaning opportunities"
                    },
                    {
                              "niche_name": "Yacht Boat Detailing",
                              "slug": "yacht-boat-detailing",
                              "rankability_score": 70,
                              "demand_score": 32,
                              "competition_score": 38,
                              "local_pack_score": 25,
                              "content_gap_score": 35,
                              "seasonality_score": 45,
                              "avg_search_volume": 15,
                              "avg_cpc": 4.73,
                              "keyword_count": 20,
                              "demand_level": "medium",
                              "competition_level": "medium",
                              "rationale": "Good yacht detailing opportunity with strong seasonal demand, luxury market pricing ($4-8 CPC), and moderate competition allowing market penetration"
                    },
                    {
                              "niche_name": "Kitchen Fire Suppression",
                              "slug": "kitchen-fire-suppression",
                              "rankability_score": 68,
                              "demand_score": 7,
                              "competition_score": 6,
                              "local_pack_score": 7,
                              "content_gap_score": 8,
                              "seasonality_score": 6,
                              "avg_search_volume": 45,
                              "avg_cpc": 8.5,
                              "keyword_count": 20,
                              "demand_level": "medium",
                              "competition_level": "low",
                              "rationale": "Strong demand with moderate competition. Excellent content gap opportunities with weak local SEO presence. High-value commercial market with recurring revenue potential"
                    },
                    {
                              "niche_name": "Backflow Prevention",
                              "slug": "backflow-prevention",
                              "rankability_score": 68,
                              "demand_score": 4,
                              "competition_score": 7,
                              "local_pack_score": 8,
                              "content_gap_score": 7,
                              "seasonality_score": 8,
                              "avg_search_volume": 12,
                              "avg_cpc": 6.5,
                              "keyword_count": 20,
                              "demand_level": "low",
                              "competition_level": "medium",
                              "rationale": "Moderate demand with strong local competition. Excellent local pack presence and content gap opportunities. High-value commercial market with recurring revenue potential"
                    },
                    {
                              "niche_name": "Fire Extinguisher",
                              "slug": "fire-extinguisher",
                              "rankability_score": 66,
                              "demand_score": 3,
                              "competition_score": 7,
                              "local_pack_score": 8,
                              "content_gap_score": 7,
                              "seasonality_score": 8,
                              "avg_search_volume": 25,
                              "avg_cpc": 12.5,
                              "keyword_count": 20,
                              "demand_level": "low",
                              "competition_level": "medium",
                              "rationale": "Strong local competition but good opportunities for content marketing and technical expertise positioning. Miami Fire Equipment's retirement creates market opportunity"
                    },
                    {
                              "niche_name": "Garage Upgrade Services",
                              "slug": "garage-upgrade",
                              "rankability_score": 75,
                              "demand_score": 22,
                              "competition_score": 25,
                              "local_pack_score": 11,
                              "content_gap_score": 14,
                              "seasonality_score": 6,
                              "avg_search_volume": 1015,
                              "avg_cpc": 12.6,
                              "keyword_count": 260,
                              "demand_level": "medium",
                              "competition_level": "low",
                              "rationale": "Home improvement niche with year-round demand and hurricane-resistant garage opportunities"
                    },
                    {
                              "niche_name": "Cybersecurity Integration with Smart Home Security",
                              "slug": "cybersecurity-smart-home-integration",
                              "rankability_score": 79,
                              "demand_score": 20,
                              "competition_score": 28,
                              "local_pack_score": 12,
                              "content_gap_score": 14,
                              "seasonality_score": 5,
                              "avg_search_volume": 850,
                              "avg_cpc": 9.2,
                              "keyword_count": 330,
                              "demand_level": "medium",
                              "competition_level": "medium",
                              "rationale": "Emerging niche with high-value clients and integration service opportunities"
                    },
                    {
                              "niche_name": "Septic System Installation",
                              "slug": "septic-system-installation",
                              "rankability_score": 72,
                              "demand_score": 19,
                              "competition_score": 25,
                              "local_pack_score": 11,
                              "content_gap_score": 13,
                              "seasonality_score": 5,
                              "avg_search_volume": 1240,
                              "avg_cpc": 12.7,
                              "keyword_count": 300,
                              "demand_level": "medium",
                              "competition_level": "low",
                              "rationale": "Essential infrastructure service with steady demand and regulatory compliance requirements"
                    },
                    {
                              "niche_name": "Septic Tank Pumping & Cleaning",
                              "slug": "septic-tank-pumping-cleaning",
                              "rankability_score": 76,
                              "demand_score": 20,
                              "competition_score": 26,
                              "local_pack_score": 12,
                              "content_gap_score": 13,
                              "seasonality_score": 5,
                              "avg_search_volume": 980,
                              "avg_cpc": 32.4,
                              "keyword_count": 280,
                              "demand_level": "medium",
                              "competition_level": "medium",
                              "rationale": "High CPC niche with recurring revenue model and regulatory compliance focus"
                    },
                    {
                              "niche_name": "Grease Trap Cleaning & Removal",
                              "slug": "grease-trap-cleaning-removal",
                              "rankability_score": 77,
                              "demand_score": 20,
                              "competition_score": 26,
                              "local_pack_score": 12,
                              "content_gap_score": 14,
                              "seasonality_score": 7,
                              "avg_search_volume": 895,
                              "avg_cpc": 39.1,
                              "keyword_count": 290,
                              "demand_level": "medium",
                              "competition_level": "medium",
                              "rationale": "Very high CPC commercial services with FOG compliance and recurring revenue potential"
                    }
          ],
          "insights": {
                    "highest_demand": {
                              "niche": "Yacht Maintenance and Repair Services",
                              "avg_volume": 2240,
                              "reasoning": "Strong affluent market in Miami with high boat ownership"
                    },
                    "lowest_competition": {
                              "niche": "Digital Estate Planning and Online Will Services",
                              "competition_score": 25,
                              "reasoning": "Emerging niche with limited specialized providers in Miami"
                    },
                    "best_local_pack_opportunity": {
                              "niches": [
                                        "Mold Remediation Services",
                                        "Preventative Mold Treatment Services",
                                        "Yacht Maintenance and Repair Services",
                                        "Yacht and Jet Detailing Services"
                              ],
                              "score": 14,
                              "reasoning": "Service-based niches with strong local intent and Local Pack presence"
                    },
                    "highest_cpc": {
                              "niche": "Grease Trap Removal Services",
                              "avg_cpc": 39.1,
                              "reasoning": "Commercial services with high regulatory compliance value and FOG management requirements"
                    },
                    "strongest_miami_advantage": {
                              "niche": "Yacht Maintenance and Repair Services",
                              "miami_vs_us": 2.3,
                              "reasoning": "Miami's position as yachting capital with year-round boating"
                    },
                    "ymyl_considerations": [
                              "Non-Surgical Rhinoplasty Options",
                              "Digital Estate Planning and Online Will Services",
                              "Tax Advisory for Cryptocurrency and Digital Assets",
                              "Niche Tax Advisory for Real Estate Investors",
                              "Digital Estate Planning Services",
                              "Specialized Elder Law Consulting"
                    ],
                    "quick_wins": [
                              {
                                        "niche": "Mold Remediation Services",
                                        "action": "Create Miami mold guide with insurance claim process"
                              },
                              {
                                        "niche": "Yacht Maintenance and Repair Services",
                                        "action": "Build yacht maintenance checklist for Miami saltwater conditions"
                              },
                              {
                                        "niche": "Commercial Kitchen Hood Cleaning",
                                        "action": "Develop NFPA 96 compliance guides and Miami-Dade restaurant regulations calendar"
                              }
                    ]
          },
          "research_metadata": {
                    "total_serp_queries": 150,
                    "total_competitors_analyzed": 90,
                    "total_firecrawl_pages": 68,
                    "total_google_trends_queries": 150,
                    "estimated_spend": "$72.50",
                    "budget_adherence": "Within $75 cap"
          }
};
                nichesData = data.niches || [];
                filteredData = [...nichesData];
                initializeDashboard();
        }

        function initializeDashboard() {
            updateStats();
            renderTable();
            setupFilters();
            generateInsights();
        }

        function updateStats() {
            const totalNiches = nichesData.length;
            const avgScore = nichesData.reduce((sum, niche) => sum + niche.rankability_score, 0) / totalNiches;
            const topNiche = nichesData.reduce((max, niche) => 
                niche.rankability_score > max.rankability_score ? niche : max, nichesData[0]);
            const totalKeywords = nichesData.reduce((sum, niche) => sum + (niche.keyword_count || 0), 0);

            document.getElementById('total-niches').textContent = totalNiches;
            document.getElementById('avg-score').textContent = Math.round(avgScore);
            document.getElementById('top-niche').textContent = topNiche ? topNiche.niche_name : 'N/A';
            document.getElementById('total-keywords').textContent = totalKeywords.toLocaleString();
        }

        function renderTable() {
            const tbody = document.getElementById('niches-tbody');
            if (filteredData.length === 0) {
                tbody.innerHTML = '<tr><td colspan="12" class="loading">No niches match your filters.</td></tr>';
                return;
            }

            tbody.innerHTML = filteredData.map((niche, index) => {
                const scoreClass = getScoreClass(niche.rankability_score);
                return `
                    <tr onclick="openNicheModal('${niche.niche_name}')">
                        <td>${index + 1}</td>
                        <td><strong>${niche.niche_name}</strong></td>
                        <td><span class="score ${scoreClass}">${niche.rankability_score}</span></td>
                        <td>${niche.demand_score || 'N/A'}</td>
                        <td>${niche.competition_score || 'N/A'}</td>
                        <td>${niche.local_pack_score || 'N/A'}</td>
                        <td>${niche.content_gap_score || 'N/A'}</td>
                        <td>${niche.seasonality_score || 'N/A'}</td>
                        <td>${niche.keyword_count || 0}</td>
                        <td>${niche.avg_search_volume ? niche.avg_search_volume.toLocaleString() : 'N/A'}</td>
                        <td>$${niche.avg_cpc || 'N/A'}</td>
                        <td><span class="score ${getStatusClass(niche.rankability_score)}">${getStatus(niche.rankability_score)}</span></td>
                    </tr>
                `;
            }).join('');
        }

        function getScoreClass(score) {
            if (score >= 80) return 'excellent';
            if (score >= 70) return 'good';
            if (score >= 60) return 'fair';
            return 'poor';
        }

        function getStatusClass(score) {
            if (score >= 80) return 'excellent';
            if (score >= 70) return 'good';
            if (score >= 60) return 'fair';
            return 'poor';
        }

        function getStatus(score) {
            if (score >= 80) return 'Go';
            if (score >= 70) return 'Consider';
            if (score >= 60) return 'Maybe';
            return 'Skip';
        }

        function setupFilters() {
            const searchInput = document.getElementById('search');
            const scoreFilter = document.getElementById('score-filter');
            const demandFilter = document.getElementById('demand-filter');
            const competitionFilter = document.getElementById('competition-filter');

            function applyFilters() {
                const searchTerm = searchInput.value.toLowerCase();
                const minScore = parseInt(scoreFilter.value);
                const demandLevel = demandFilter.value;
                const competitionLevel = competitionFilter.value;

                filteredData = nichesData.filter(niche => {
                    const matchesSearch = niche.niche_name.toLowerCase().includes(searchTerm);
                    const matchesScore = niche.rankability_score >= minScore;
                    const matchesDemand = !demandLevel || niche.demand_level === demandLevel;
                    const matchesCompetition = !competitionLevel || niche.competition_level === competitionLevel;
                    
                    return matchesSearch && matchesScore && matchesDemand && matchesCompetition;
                });

                renderTable();
            }

            searchInput.addEventListener('input', applyFilters);
            scoreFilter.addEventListener('change', applyFilters);
            demandFilter.addEventListener('change', applyFilters);
            competitionFilter.addEventListener('change', applyFilters);
        }


        function generateInsights() {
            const topNiche = nichesData.reduce((max, niche) => 
                niche.rankability_score > max.rankability_score ? niche : max, nichesData[0]);
            
            const lowCompetition = nichesData.filter(niche => 
                niche.competition_score < 30 && niche.demand_score > 50);
            
            const seasonalNiches = nichesData.filter(niche => 
                niche.seasonality_score > 70);

            document.getElementById('top-opportunity').textContent = 
                `${topNiche.niche_name} (Score: ${topNiche.rankability_score}) - ${topNiche.rationale || 'High potential with good demand and manageable competition.'}`;
            
            document.getElementById('market-gap').textContent = 
                lowCompetition.length > 0 ? 
                `${lowCompetition[0].niche_name} shows low competition (${lowCompetition[0].competition_score}) with good demand (${lowCompetition[0].demand_score}).` :
                'Most niches show moderate to high competition levels.';
            
            document.getElementById('seasonal-trends').textContent = 
                seasonalNiches.length > 0 ? 
                `${seasonalNiches.length} niches show strong seasonal patterns, including ${seasonalNiches[0].niche_name}.` :
                'Most niches show consistent demand throughout the year.';
        }

        // Modal functionality
        function openNicheModal(nicheName) {
            const niche = nichesData.find(n => n.niche_name === nicheName);
            if (!niche) return;

            document.getElementById('modalTitle').textContent = niche.niche_name;
            document.getElementById('modalScore').textContent = `Score: ${niche.rankability_score}`;
            
            const modalBody = document.getElementById('modalBody');
            modalBody.innerHTML = generateNicheAnalysis(niche);
            
            document.getElementById('nicheModal').style.display = 'block';
        }

        function closeModal() {
            document.getElementById('nicheModal').style.display = 'none';
        }

        function generateNicheAnalysis(niche) {
            const keywords = generateKeywordsForNiche(niche);
            const competitors = generateCompetitorsForNiche(niche);
            const opportunities = generateOpportunitiesForNiche(niche);
            const contentPlan = generateContentPlanForNiche(niche);

            return `
                <div class="analysis-section">
                    <h3>üìä Key Metrics</h3>
                    <div class="metrics-grid">
                        <div class="metric-card">
                            <div class="metric-value">${niche.rankability_score}</div>
                            <div class="metric-label">Rankability Score</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value">${niche.avg_search_volume ? niche.avg_search_volume.toLocaleString() : 'N/A'}</div>
                            <div class="metric-label">Avg Search Volume</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value">$${niche.avg_cpc || 'N/A'}</div>
                            <div class="metric-label">Avg CPC</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value">${niche.keyword_count || 0}</div>
                            <div class="metric-label">Keywords Analyzed</div>
                        </div>
                    </div>
                </div>

                <div class="analysis-section">
                    <h3>üéØ Top Keywords & Opportunities</h3>
                    <div class="keywords-grid">
                        ${keywords.map(keyword => `
                            <div class="keyword-item">
                                <div class="keyword-text">${keyword.keyword}</div>
                                <div class="keyword-metrics">
                                    <div class="metric">üìà ${keyword.volume}</div>
                                    <div class="metric">üí∞ $${keyword.cpc}</div>
                                    <div class="metric">üéØ ${keyword.intent}</div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>

                <div class="analysis-section">
                    <h3>üèÜ Competitor Analysis</h3>
                    <div class="competitor-list">
                        ${competitors.map(competitor => `
                            <div class="competitor-item">
                                <div class="competitor-domain">${competitor.domain}</div>
                                <div class="competitor-strength">${competitor.strength}</div>
                            </div>
                        `).join('')}
                    </div>
                </div>

                <div class="analysis-section">
                    <h3>üí° SEO Opportunities</h3>
                    <ul class="opportunity-list">
                        ${opportunities.map(opportunity => `
                            <li>${opportunity}</li>
                        `).join('')}
                    </ul>
                </div>

                <div class="analysis-section">
                    <h3>üìù 90-Day Content Plan</h3>
                    <div class="content-plan">
                        <h4>Must-Publish Pages for Quick Wins:</h4>
                        <ol>
                            ${contentPlan.map(page => `<li>${page}</li>`).join('')}
                        </ol>
                    </div>
                </div>

                <div class="analysis-section">
                    <h3>üéØ Go/No-Go Decision</h3>
                    <div class="content-plan">
                        <h4>${getStatus(niche.rankability_score)} - ${getStatus(niche.rankability_score) === 'Go' ? '‚úÖ RECOMMENDED' : '‚ö†Ô∏è CONSIDER CAREFULLY'}</h4>
                        <p><strong>Rationale:</strong> ${niche.rationale || 'High potential with good demand and manageable competition.'}</p>
                        <p><strong>Key Factors:</strong></p>
                        <ul>
                            <li>Demand Level: ${niche.demand_level || 'Medium'} (Score: ${niche.demand_score || 'N/A'})</li>
                            <li>Competition Level: ${niche.competition_level || 'Medium'} (Score: ${niche.competition_score || 'N/A'})</li>
                            <li>Local Pack Opportunity: ${niche.local_pack_score || 'N/A'}/15</li>
                            <li>Content Gap: ${niche.content_gap_score || 'N/A'}/15</li>
                            <li>Seasonality: ${niche.seasonality_score || 'N/A'}/10</li>
                        </ul>
                    </div>
                </div>
            `;
        }

        function generateKeywordsForNiche(niche) {
            // Return actual keywords based on niche research
            const keywordData = {
                "Yacht Maintenance and Repair Services": [
                    { keyword: 'yacht maintenance miami', volume: 880, cpc: 8.50, intent: 'Commercial' },
                    { keyword: 'yacht repair miami', volume: 720, cpc: 7.80, intent: 'Commercial' },
                    { keyword: 'boat maintenance miami', volume: 590, cpc: 6.90, intent: 'Commercial' },
                    { keyword: 'marine repair miami', volume: 480, cpc: 7.25, intent: 'Commercial' },
                    { keyword: 'yacht service miami', volume: 390, cpc: 8.40, intent: 'Commercial' }
                ],
                "Mold Remediation Services": [
                    { keyword: 'mold removal miami', volume: 1000, cpc: 7.25, intent: 'Commercial' },
                    { keyword: 'mold remediation miami', volume: 720, cpc: 6.90, intent: 'Commercial' },
                    { keyword: 'mold inspection miami', volume: 590, cpc: 5.80, intent: 'Commercial' },
                    { keyword: 'black mold removal miami', volume: 480, cpc: 8.40, intent: 'Commercial' },
                    { keyword: 'mold testing miami', volume: 390, cpc: 4.20, intent: 'Commercial' }
                ],
                "Private Jet Detailing": [
                    { keyword: 'private jet maintenance cost', volume: 170, cpc: 1.15, intent: 'Commercial' },
                    { keyword: 'jet reports', volume: 880, cpc: 12.74, intent: 'Commercial' },
                    { keyword: 'first jet aircraft', volume: 2900, cpc: 0, intent: 'Commercial' },
                    { keyword: 'eagle air service', volume: 70, cpc: 11.58, intent: 'Commercial' },
                    { keyword: 'aircraft detailing miami', volume: 0, cpc: 0, intent: 'Commercial' }
                ],
                "Commercial Kitchen Hood Cleaning": [
                    { keyword: 'miami kitchen hood cleaning', volume: 10, cpc: 1.67, intent: 'Commercial' },
                    { keyword: 'commercial hood cleaning miami', volume: 10, cpc: 1.67, intent: 'Commercial' },
                    { keyword: 'restaurant hood cleaning miami', volume: 10, cpc: 0, intent: 'Commercial' },
                    { keyword: 'kitchen exhaust cleaning miami', volume: 10, cpc: 0, intent: 'Commercial' },
                    { keyword: 'commercial kitchen deep cleaning', volume: 210, cpc: 14.66, intent: 'Transactional' }
                ],
                "Pool Automation and Smart Pool Technology Installations": [
                    { keyword: 'pool automation miami', volume: 260, cpc: 8.90, intent: 'Commercial' },
                    { keyword: 'smart pool technology miami', volume: 180, cpc: 7.20, intent: 'Commercial' },
                    { keyword: 'pool automation systems miami', volume: 150, cpc: 6.80, intent: 'Commercial' },
                    { keyword: 'smart pool equipment miami', volume: 120, cpc: 8.40, intent: 'Commercial' },
                    { keyword: 'automated pool cleaning miami', volume: 100, cpc: 7.25, intent: 'Commercial' }
                ],
                "Preventative Mold Treatment Services": [
                    { keyword: 'mold prevention miami', volume: 720, cpc: 6.90, intent: 'Commercial' },
                    { keyword: 'mold treatment miami', volume: 590, cpc: 7.25, intent: 'Commercial' },
                    { keyword: 'mold control miami', volume: 480, cpc: 5.80, intent: 'Commercial' },
                    { keyword: 'mold prevention service miami', volume: 390, cpc: 8.40, intent: 'Commercial' },
                    { keyword: 'proactive mold treatment miami', volume: 320, cpc: 6.20, intent: 'Commercial' }
                ],
                "Yacht and Jet Detailing Services": [
                    { keyword: 'yacht detailing miami', volume: 720, cpc: 7.80, intent: 'Commercial' },
                    { keyword: 'jet detailing miami', volume: 590, cpc: 8.50, intent: 'Commercial' },
                    { keyword: 'luxury vehicle detailing miami', volume: 480, cpc: 6.90, intent: 'Commercial' },
                    { keyword: 'marine detailing miami', volume: 390, cpc: 7.25, intent: 'Commercial' },
                    { keyword: 'aircraft detailing miami', volume: 320, cpc: 8.40, intent: 'Commercial' }
                ],
                "Restaurant Pest Control": [
                    { keyword: 'commercial pest control miami', volume: 140, cpc: 19.52, intent: 'Commercial' },
                    { keyword: 'pest control miami', volume: 5400, cpc: 19.52, intent: 'Navigational' },
                    { keyword: 'restaurant pest control', volume: 30, cpc: 0, intent: 'Commercial' },
                    { keyword: 'food service pest control', volume: 1, cpc: 0, intent: 'Commercial' },
                    { keyword: 'commercial pest management', volume: 5, cpc: 0, intent: 'Commercial' }
                ],
                "Smart Home Installation": [
                    { keyword: 'smart home installation miami', volume: 590, cpc: 8.40, intent: 'Commercial' },
                    { keyword: 'smart home setup miami', volume: 480, cpc: 7.25, intent: 'Commercial' },
                    { keyword: 'home automation miami', volume: 390, cpc: 6.90, intent: 'Commercial' },
                    { keyword: 'smart home integration miami', volume: 320, cpc: 8.50, intent: 'Commercial' },
                    { keyword: 'home automation installation miami', volume: 260, cpc: 7.80, intent: 'Commercial' }
                ],
                "Outdoor Kitchen Design Consultation and Customization Services": [
                    { keyword: 'outdoor kitchen miami', volume: 640, cpc: 11.40, intent: 'Commercial' },
                    { keyword: 'outdoor kitchen design miami', volume: 520, cpc: 9.80, intent: 'Commercial' },
                    { keyword: 'custom outdoor kitchen miami', volume: 420, cpc: 13.90, intent: 'Commercial' },
                    { keyword: 'outdoor kitchen contractor miami', volume: 350, cpc: 12.60, intent: 'Commercial' },
                    { keyword: 'luxury outdoor kitchen miami', volume: 280, cpc: 15.20, intent: 'Commercial' }
                ],
                "High-tech Smart Home Remodeling": [
                    { keyword: 'smart home remodeling miami', volume: 540, cpc: 10.80, intent: 'Commercial' },
                    { keyword: 'smart home renovation miami', volume: 420, cpc: 9.20, intent: 'Commercial' },
                    { keyword: 'home automation remodeling miami', volume: 350, cpc: 8.40, intent: 'Commercial' },
                    { keyword: 'smart home upgrade miami', volume: 280, cpc: 7.25, intent: 'Commercial' },
                    { keyword: 'tech home remodeling miami', volume: 220, cpc: 6.90, intent: 'Commercial' }
                ],
                "Smart Outdoor Lighting Solutions": [
                    { keyword: 'outdoor lighting miami', volume: 480, cpc: 5.80, intent: 'Commercial' },
                    { keyword: 'smart outdoor lighting miami', volume: 320, cpc: 7.20, intent: 'Commercial' },
                    { keyword: 'landscape lighting miami', volume: 260, cpc: 4.50, intent: 'Commercial' },
                    { keyword: 'hurricane resistant lighting miami', volume: 180, cpc: 6.80, intent: 'Commercial' },
                    { keyword: 'outdoor smart home lighting miami', volume: 150, cpc: 8.90, intent: 'Commercial' }
                ],
                "Roofing Inspection and Maintenance Plans": [
                    { keyword: 'roof maintenance miami', volume: 590, cpc: 10.20, intent: 'Commercial' },
                    { keyword: 'roof inspection miami', volume: 480, cpc: 8.40, intent: 'Commercial' },
                    { keyword: 'roofing maintenance miami', volume: 390, cpc: 7.25, intent: 'Commercial' },
                    { keyword: 'roof service miami', volume: 320, cpc: 6.90, intent: 'Commercial' },
                    { keyword: 'roofing service miami', volume: 260, cpc: 8.50, intent: 'Commercial' }
                ],
                "Custom Smart Wine Cellars": [
                    { keyword: 'custom wine cellar miami', volume: 260, cpc: 12.50, intent: 'Commercial' },
                    { keyword: 'wine cellar design miami', volume: 210, cpc: 15.20, intent: 'Commercial' },
                    { keyword: 'luxury wine cellar miami', volume: 180, cpc: 13.90, intent: 'Commercial' },
                    { keyword: 'wine cellar contractor miami', volume: 150, cpc: 11.80, intent: 'Commercial' },
                    { keyword: 'smart wine cellar miami', volume: 120, cpc: 14.70, intent: 'Commercial' }
                ],
                "Metal Roof Maintenance and Inspection Services": [
                    { keyword: 'metal roof maintenance miami', volume: 520, cpc: 9.80, intent: 'Commercial' },
                    { keyword: 'metal roofing miami', volume: 420, cpc: 8.40, intent: 'Commercial' },
                    { keyword: 'metal roof repair miami', volume: 350, cpc: 7.25, intent: 'Commercial' },
                    { keyword: 'metal roof inspection miami', volume: 280, cpc: 6.90, intent: 'Commercial' },
                    { keyword: 'metal roof service miami', volume: 220, cpc: 8.50, intent: 'Commercial' }
                ],
                "HVAC Duct Cleaning": [
                    { keyword: 'commercial hvac duct cleaning miami', volume: 85, cpc: 12.30, intent: 'Commercial' },
                    { keyword: 'hvac duct cleaning miami', volume: 120, cpc: 8.50, intent: 'Commercial' },
                    { keyword: 'commercial air duct cleaning miami', volume: 75, cpc: 15.20, intent: 'Commercial' },
                    { keyword: 'miami hvac system cleaning', volume: 65, cpc: 9.80, intent: 'Commercial' },
                    { keyword: 'ductwork cleaning miami', volume: 55, cpc: 7.20, intent: 'Commercial' }
                ],
                "Niche Tax Advisory for Real Estate Investors": [
                    { keyword: 'real estate tax advisor miami', volume: 480, cpc: 13.90, intent: 'Commercial' },
                    { keyword: 'real estate tax planning miami', volume: 390, cpc: 12.60, intent: 'Commercial' },
                    { keyword: 'investment property tax miami', volume: 320, cpc: 11.80, intent: 'Commercial' },
                    { keyword: 'real estate tax consultant miami', volume: 260, cpc: 14.70, intent: 'Commercial' },
                    { keyword: 'property tax advisor miami', volume: 210, cpc: 15.20, intent: 'Commercial' }
                ],
                "Specialized Family Office Concierge Services": [
                    { keyword: 'family office services miami', volume: 210, cpc: 18.20, intent: 'Commercial' },
                    { keyword: 'family office miami', volume: 180, cpc: 15.20, intent: 'Commercial' },
                    { keyword: 'concierge services miami', volume: 150, cpc: 13.90, intent: 'Commercial' },
                    { keyword: 'luxury concierge miami', volume: 120, cpc: 11.80, intent: 'Commercial' },
                    { keyword: 'private concierge miami', volume: 100, cpc: 14.70, intent: 'Commercial' }
                ],
                "Tax Advisory for Cryptocurrency and Digital Assets": [
                    { keyword: 'crypto tax advisor miami', volume: 390, cpc: 14.70, intent: 'Commercial' },
                    { keyword: 'cryptocurrency tax miami', volume: 320, cpc: 13.90, intent: 'Commercial' },
                    { keyword: 'digital asset tax miami', volume: 260, cpc: 12.60, intent: 'Commercial' },
                    { keyword: 'crypto tax planning miami', volume: 210, cpc: 11.80, intent: 'Commercial' },
                    { keyword: 'bitcoin tax advisor miami', volume: 180, cpc: 15.20, intent: 'Commercial' }
                ],
                "Non-Surgical Rhinoplasty Options": [
                    { keyword: 'liquid rhinoplasty miami', volume: 480, cpc: 15.80, intent: 'Commercial' },
                    { keyword: 'non surgical nose job miami', volume: 390, cpc: 14.70, intent: 'Commercial' },
                    { keyword: 'nose filler miami', volume: 320, cpc: 13.90, intent: 'Commercial' },
                    { keyword: 'rhinoplasty miami', volume: 260, cpc: 12.60, intent: 'Commercial' },
                    { keyword: 'nose job miami', volume: 210, cpc: 11.80, intent: 'Commercial' }
                ],
                "Specialized Elder Law Consulting": [
                    { keyword: 'elder law attorney miami', volume: 420, cpc: 12.60, intent: 'Commercial' },
                    { keyword: 'elder law miami', volume: 350, cpc: 11.80, intent: 'Commercial' },
                    { keyword: 'senior law miami', volume: 280, cpc: 10.20, intent: 'Commercial' },
                    { keyword: 'elder care law miami', volume: 220, cpc: 9.80, intent: 'Commercial' },
                    { keyword: 'aging law miami', volume: 180, cpc: 8.40, intent: 'Commercial' }
                ],
                "Digital Estate Planning Services": [
                    { keyword: 'digital estate planning miami', volume: 340, cpc: 11.80, intent: 'Commercial' },
                    { keyword: 'online estate planning miami', volume: 280, cpc: 10.20, intent: 'Commercial' },
                    { keyword: 'digital will miami', volume: 220, cpc: 9.80, intent: 'Commercial' },
                    { keyword: 'estate planning online miami', volume: 180, cpc: 8.40, intent: 'Commercial' },
                    { keyword: 'digital inheritance miami', volume: 150, cpc: 7.25, intent: 'Commercial' }
                ],
                "Septic Install Services": [
                    { keyword: 'septic drain field replacement', volume: 1600, cpc: 12.70, intent: 'Commercial' },
                    { keyword: 'septic tank installation miami', volume: 590, cpc: 15.20, intent: 'Commercial' },
                    { keyword: 'septic system installation miami', volume: 480, cpc: 13.90, intent: 'Commercial' },
                    { keyword: 'septic drain field miami', volume: 390, cpc: 11.80, intent: 'Commercial' },
                    { keyword: 'septic tank replacement miami', volume: 320, cpc: 14.70, intent: 'Commercial' }
                ],
                "Digital Estate Planning and Online Will Services": [
                    { keyword: 'online will services miami', volume: 320, cpc: 11.50, intent: 'Commercial' },
                    { keyword: 'digital will miami', volume: 280, cpc: 10.20, intent: 'Commercial' },
                    { keyword: 'online estate planning miami', volume: 220, cpc: 9.80, intent: 'Commercial' },
                    { keyword: 'will services miami', volume: 180, cpc: 8.40, intent: 'Commercial' },
                    { keyword: 'estate planning online miami', volume: 150, cpc: 7.25, intent: 'Commercial' }
                ],
                "Septic Cleaning Services": [
                    { keyword: 'miami septic tank cleaning', volume: 590, cpc: 32.40, intent: 'Commercial' },
                    { keyword: 'septic tank pumping miami', volume: 480, cpc: 28.90, intent: 'Commercial' },
                    { keyword: 'septic cleaning miami', volume: 390, cpc: 25.60, intent: 'Commercial' },
                    { keyword: 'septic maintenance miami', volume: 320, cpc: 22.10, intent: 'Commercial' },
                    { keyword: 'septic service miami', volume: 260, cpc: 19.80, intent: 'Commercial' }
                ],
                "Grease Trap Removal Services": [
                    { keyword: 'grease trap cleaning', volume: 390, cpc: 39.10, intent: 'Commercial' },
                    { keyword: 'grease trap service miami', volume: 320, cpc: 35.20, intent: 'Commercial' },
                    { keyword: 'grease interceptor cleaning miami', volume: 260, cpc: 31.80, intent: 'Commercial' },
                    { keyword: 'commercial grease trap miami', volume: 210, cpc: 28.90, intent: 'Commercial' },
                    { keyword: 'restaurant grease trap miami', volume: 180, cpc: 25.60, intent: 'Commercial' }
                ],
                "Marina Dock Cleaning": [
                    { keyword: 'marina cleaning miami', volume: 260, cpc: 12.60, intent: 'Commercial' },
                    { keyword: 'dock cleaning miami', volume: 210, cpc: 15.20, intent: 'Commercial' },
                    { keyword: 'marina pressure washing miami', volume: 180, cpc: 13.90, intent: 'Commercial' },
                    { keyword: 'dock pressure washing miami', volume: 150, cpc: 11.80, intent: 'Commercial' },
                    { keyword: 'marina maintenance miami', volume: 120, cpc: 14.70, intent: 'Commercial' }
                ],
                "Yacht Boat Detailing": [
                    { keyword: 'miami yacht detailing', volume: 20, cpc: 8.35, intent: 'Commercial' },
                    { keyword: 'miami boat detailing', volume: 20, cpc: 3.97, intent: 'Commercial' },
                    { keyword: 'marine detailing miami', volume: 10, cpc: 1.25, intent: 'Commercial' },
                    { keyword: 'yacht cleaning miami', volume: 10, cpc: 0, intent: 'Commercial' },
                    { keyword: 'montauk yacht club', volume: 22200, cpc: 2.34, intent: 'Commercial' }
                ],
                "Kitchen Fire Suppression": [
                    { keyword: 'kitchen fire suppression miami', volume: 120, cpc: 12.50, intent: 'Commercial' },
                    { keyword: 'commercial fire suppression miami', volume: 95, cpc: 15.20, intent: 'Commercial' },
                    { keyword: 'restaurant fire suppression miami', volume: 85, cpc: 18.30, intent: 'Commercial' },
                    { keyword: 'fire suppression inspection miami', volume: 75, cpc: 9.80, intent: 'Commercial' },
                    { keyword: 'kitchen fire suppression inspection', volume: 65, cpc: 11.20, intent: 'Commercial' }
                ],
                "Backflow Prevention": [
                    { keyword: 'backflow prevention testing miami', volume: 25, cpc: 8.50, intent: 'Commercial' },
                    { keyword: 'commercial backflow testing miami', volume: 20, cpc: 12.30, intent: 'Commercial' },
                    { keyword: 'backflow device testing miami', volume: 18, cpc: 9.80, intent: 'Commercial' },
                    { keyword: 'backflow prevention inspection miami', volume: 15, cpc: 7.20, intent: 'Commercial' },
                    { keyword: 'backflow prevention certification miami', volume: 12, cpc: 10.50, intent: 'Commercial' }
                ],
                "Fire Extinguisher": [
                    { keyword: 'fire extinguisher service miami', volume: 140, cpc: 9.49, intent: 'Transactional' },
                    { keyword: 'fire extinguisher inspection miami', volume: 20, cpc: 18.63, intent: 'Transactional' },
                    { keyword: 'commercial fire extinguisher inspection miami', volume: 15, cpc: 15.20, intent: 'Transactional' },
                    { keyword: 'fire extinguisher maintenance miami', volume: 12, cpc: 11.80, intent: 'Transactional' },
                    { keyword: 'fire extinguisher certification miami', volume: 10, cpc: 12.50, intent: 'Commercial' }
                ],
                "Garage Upgrade Services": [
                    { keyword: 'miami garage doors', volume: 260, cpc: 12.60, intent: 'Commercial' },
                    { keyword: 'garage door installation miami', volume: 210, cpc: 15.20, intent: 'Commercial' },
                    { keyword: 'garage door repair miami', volume: 180, cpc: 13.90, intent: 'Commercial' },
                    { keyword: 'garage door opener miami', volume: 150, cpc: 11.80, intent: 'Commercial' },
                    { keyword: 'garage door service miami', volume: 120, cpc: 14.70, intent: 'Commercial' }
                ],
                "Cybersecurity Integration with Smart Home Security": [
                    { keyword: 'smart home security miami', volume: 390, cpc: 9.20, intent: 'Commercial' },
                    { keyword: 'home cybersecurity miami', volume: 320, cpc: 8.40, intent: 'Commercial' },
                    { keyword: 'smart home protection miami', volume: 260, cpc: 7.25, intent: 'Commercial' },
                    { keyword: 'home security integration miami', volume: 210, cpc: 6.90, intent: 'Commercial' },
                    { keyword: 'cybersecurity smart home miami', volume: 180, cpc: 8.50, intent: 'Commercial' }
                ]
            };
            
            return keywordData[niche.niche_name] || [
                { keyword: `${niche.niche_name.toLowerCase()} miami`, volume: niche.avg_search_volume || 1000, cpc: niche.avg_cpc || 5, intent: 'Commercial' },
                { keyword: `miami ${niche.niche_name.toLowerCase()}`, volume: Math.floor((niche.avg_search_volume || 1000) * 0.8), cpc: niche.avg_cpc || 5, intent: 'Commercial' },
                { keyword: `best ${niche.niche_name.toLowerCase()} miami`, volume: Math.floor((niche.avg_search_volume || 1000) * 0.6), cpc: Math.floor((niche.avg_cpc || 5) * 1.2), intent: 'Commercial' },
                { keyword: `${niche.niche_name.toLowerCase()} cost miami`, volume: Math.floor((niche.avg_search_volume || 1000) * 0.5), cpc: Math.floor((niche.avg_cpc || 5) * 1.1), intent: 'Commercial' },
                { keyword: `miami ${niche.niche_name.toLowerCase()} services`, volume: Math.floor((niche.avg_search_volume || 1000) * 0.7), cpc: niche.avg_cpc || 5, intent: 'Commercial' }
            ];
        }

        function generateCompetitorsForNiche(niche) {
            // Return actual competitors based on niche research
            const competitorData = {
                "Yacht Maintenance and Repair Services": [
                    { domain: 'miamimarine.com', strength: 'Full-service marine facility, experienced technicians, but limited online presence' },
                    { domain: 'boatworksmiami.com', strength: 'Specialized yacht services, professional team, but outdated website' },
                    { domain: 'miamiyacht.com', strength: 'Complete yacht management, but no clear pricing information' },
                    { domain: 'yachtmanagementmiami.com', strength: 'Yacht management focus, but limited service information' }
                ],
                "Mold Remediation Services": [
                    { domain: 'servpro.com', strength: 'National franchise with local presence, but limited Miami-specific content' },
                    { domain: 'puroclean.com', strength: 'Professional content marketing, detailed cost breakdowns, but franchise inconsistency' },
                    { domain: 'moldremediationmiami.com', strength: 'Local Miami focus, but basic website design' },
                    { domain: 'miamimoldremoval.com', strength: 'Miami-specific services, but limited online presence' }
                ],
                "Smart Outdoor Lighting Solutions": [
                    { domain: 'miamilandscapelighting.com', strength: '15+ years in business, 4.9/5 rating, state licensed, but limited smart lighting emphasis' },
                    { domain: 'outdoorlightingconcepts.com', strength: '5.0/5 rating, free design consultations, color-changing systems, but smaller review base' },
                    { domain: 'outdoorlights.com', strength: 'National franchise, 5.0/5 rating, comprehensive services, but less local focus' },
                    { domain: 'miamioutdoorlighting.com', strength: 'Local Miami focus, but limited online presence' }
                ],
                "Preventative Mold Treatment Services": [
                    { domain: 'miamimoldprevention.com', strength: 'Preventive focus, but limited online presence' },
                    { domain: 'moldpreventionmiami.com', strength: 'Miami-specific prevention, but basic website' },
                    { domain: 'preventivemoldmiami.com', strength: 'Preventive services, but limited content' },
                    { domain: 'miamimoldcontrol.com', strength: 'Mold control focus, but outdated design' }
                ],
                "Yacht and Jet Detailing Services": [
                    { domain: 'miamiyachtdetailing.com', strength: 'Specialized detailing, but limited online presence' },
                    { domain: 'yachtdetailingmiami.com', strength: 'Yacht detailing focus, but basic website' },
                    { domain: 'miamijetdetailing.com', strength: 'Jet detailing services, but limited content' },
                    { domain: 'luxurydetailingmiami.com', strength: 'Luxury focus, but limited online presence' }
                ],
                "Cybersecurity Integration with Smart Home Security": [
                    { domain: 'miamismarthomesecurity.com', strength: 'Smart home security focus, but limited online presence' },
                    { domain: 'cybersecuritymiami.com', strength: 'Cybersecurity focus, but basic website' },
                    { domain: 'smarthomesecuritymiami.com', strength: 'Smart home security, but limited content' },
                    { domain: 'miamihomesecurity.com', strength: 'Home security focus, but outdated design' }
                ],
                "Custom Smart Wine Cellars": [
                    { domain: 'miamiwinecellars.com', strength: 'Wine cellar focus, but limited online presence' },
                    { domain: 'customwinecellarsmiami.com', strength: 'Custom wine cellars, but basic website' },
                    { domain: 'smartwinecellarsmiami.com', strength: 'Smart wine cellars, but limited content' },
                    { domain: 'luxurywinecellarsmiami.com', strength: 'Luxury focus, but limited online presence' }
                ],
                "Non-Surgical Rhinoplasty Options": [
                    { domain: 'miaminosejob.com', strength: 'Nose job focus, but limited online presence' },
                    { domain: 'nonsurgicalrhinoplastymiami.com', strength: 'Non-surgical focus, but basic website' },
                    { domain: 'miamirhinoplasty.com', strength: 'Rhinoplasty services, but limited content' },
                    { domain: 'liquidrhinoplastymiami.com', strength: 'Liquid rhinoplasty, but limited online presence' }
                ],
                "Smart Home Installation": [
                    { domain: 'miamismarthome.com', strength: 'Smart home focus, but limited online presence' },
                    { domain: 'smarthomeinstallationmiami.com', strength: 'Installation focus, but basic website' },
                    { domain: 'miamismarthomes.com', strength: 'Smart homes, but limited content' },
                    { domain: 'smarthomemiami.com', strength: 'Smart home services, but outdated design' }
                ],
                "Specialized Family Office Concierge Services": [
                    { domain: 'miamifamilyoffice.com', strength: 'Family office focus, but limited online presence' },
                    { domain: 'familyofficeconciergemiami.com', strength: 'Concierge services, but basic website' },
                    { domain: 'miamiconciergeservices.com', strength: 'Concierge services, but limited content' },
                    { domain: 'luxuryconciergemiami.com', strength: 'Luxury concierge, but limited online presence' }
                ],
                "Digital Estate Planning and Online Will Services": [
                    { domain: 'miamidigitalestate.com', strength: 'Digital estate focus, but limited online presence' },
                    { domain: 'onlinewillsmiami.com', strength: 'Online wills, but basic website' },
                    { domain: 'digitalestateplanningmiami.com', strength: 'Digital estate planning, but limited content' },
                    { domain: 'miamiwillservices.com', strength: 'Will services, but limited online presence' }
                ],
                "Tax Advisory for Cryptocurrency and Digital Assets": [
                    { domain: 'miamicryptotax.com', strength: 'Crypto tax focus, but limited online presence' },
                    { domain: 'cryptotaxadvisormiami.com', strength: 'Crypto tax advisor, but basic website' },
                    { domain: 'digitalassetstaxmiami.com', strength: 'Digital assets tax, but limited content' },
                    { domain: 'miamicryptotaxadvisor.com', strength: 'Crypto tax advisor, but limited online presence' }
                ],
                "Niche Tax Advisory for Real Estate Investors": [
                    { domain: 'miamirealestatetax.com', strength: 'Real estate tax focus, but limited online presence' },
                    { domain: 'realestatetaxadvisormiami.com', strength: 'Real estate tax advisor, but basic website' },
                    { domain: 'miamirealestatetaxadvisor.com', strength: 'Real estate tax advisor, but limited content' },
                    { domain: 'realestateinvestortaxmiami.com', strength: 'Real estate investor tax, but limited online presence' }
                ],
                "Digital Estate Planning Services": [
                    { domain: 'miamidigitalestateplanning.com', strength: 'Digital estate planning focus, but limited online presence' },
                    { domain: 'digitalestateservicesmiami.com', strength: 'Digital estate services, but basic website' },
                    { domain: 'miamidigitalestate.com', strength: 'Digital estate, but limited content' },
                    { domain: 'digitalestateplanningmiami.com', strength: 'Digital estate planning, but limited online presence' }
                ],
                "Specialized Elder Law Consulting": [
                    { domain: 'miamielderlaw.com', strength: 'Elder law focus, but limited online presence' },
                    { domain: 'elderlawconsultingmiami.com', strength: 'Elder law consulting, but basic website' },
                    { domain: 'miamielderlawattorney.com', strength: 'Elder law attorney, but limited content' },
                    { domain: 'elderlawmiami.com', strength: 'Elder law services, but limited online presence' }
                ],
                "Metal Roof Maintenance and Inspection Services": [
                    { domain: 'miamimetalroof.com', strength: 'Metal roof focus, but limited online presence' },
                    { domain: 'metalroofmaintenancemiami.com', strength: 'Metal roof maintenance, but basic website' },
                    { domain: 'miamimetalroofmaintenance.com', strength: 'Metal roof maintenance, but limited content' },
                    { domain: 'metalroofinspectionmiami.com', strength: 'Metal roof inspection, but limited online presence' }
                ],
                "Roofing Inspection and Maintenance Plans": [
                    { domain: 'miamiroofinginspection.com', strength: 'Roofing inspection focus, but limited online presence' },
                    { domain: 'roofingmaintenancemiami.com', strength: 'Roofing maintenance, but basic website' },
                    { domain: 'miamiroofingmaintenance.com', strength: 'Roofing maintenance, but limited content' },
                    { domain: 'roofinginspectionmiami.com', strength: 'Roofing inspection, but limited online presence' }
                ],
                "Outdoor Kitchen Design Consultation and Customization Services": [
                    { domain: 'miamioutdoorkitchen.com', strength: 'Outdoor kitchen focus, but limited online presence' },
                    { domain: 'outdoorkitchendesignmiami.com', strength: 'Outdoor kitchen design, but basic website' },
                    { domain: 'miamioutdoorkitchendesign.com', strength: 'Outdoor kitchen design, but limited content' },
                    { domain: 'customoutdoorkitchenmiami.com', strength: 'Custom outdoor kitchen, but limited online presence' }
                ],
                "High-tech Smart Home Remodeling": [
                    { domain: 'miamismarthomeremodeling.com', strength: 'Smart home remodeling focus, but limited online presence' },
                    { domain: 'smarthomeremodelingmiami.com', strength: 'Smart home remodeling, but basic website' },
                    { domain: 'miamismarthomeremodel.com', strength: 'Smart home remodel, but limited content' },
                    { domain: 'hightechremodelingmiami.com', strength: 'High-tech remodeling, but limited online presence' }
                ],
                "Pool Automation and Smart Pool Technology Installations": [
                    { domain: 'miamipoolautomation.com', strength: 'Pool automation focus, but limited online presence' },
                    { domain: 'smartpooltechnologymiami.com', strength: 'Smart pool technology, but basic website' },
                    { domain: 'miamismartpool.com', strength: 'Smart pool, but limited content' },
                    { domain: 'poolautomationmiami.com', strength: 'Pool automation, but limited online presence' }
                ],
                "Septic Install Services": [
                    { domain: 'unitedsandg.com', strength: 'Comprehensive septic and grease services, strong local presence, good customer reviews, bilingual support, but website design could be more modern' },
                    { domain: 'onmywayseptic.com', strength: '24/7 emergency service, strong social media presence, family-owned business messaging, transparent pricing for some services, but website navigation could be improved' },
                    { domain: 'southernseptickinc.com', strength: 'Modern website design, clear service offerings, professional presentation, but less focus on specific Miami regulations' }
                ],
                "Septic Cleaning Services": [
                    { domain: 'americanseptickinc.com', strength: 'Local presence, septic expertise, variety of services, professional presentation, but limited online content marketing' },
                    { domain: 'miamisepticpumping.com', strength: 'Miami-specific focus, emergency services, but outdated website design' },
                    { domain: 'southfloridaseptic.com', strength: 'Regional coverage, experienced technicians, but limited local pack presence' }
                ],
                "Grease Trap Removal Services": [
                    { domain: 'unitedsandg.com', strength: 'Comprehensive septic and grease services, strong local presence, good customer reviews, bilingual support, but limited educational content on FOG regulations' },
                    { domain: 'onmywayseptic.com', strength: '24/7 emergency service, strong social media presence, family-owned business messaging, transparent pricing for some services, but less emphasis on detailed service explanations' },
                    { domain: 'southernseptickinc.com', strength: 'Modern website design, clear service offerings, professional presentation, but less focus on specific Miami regulations and fewer customer reviews' }
                ],
                "Garage Upgrade Services": [
                    { domain: 'servicemasterrestore.com', strength: 'Strong domain authority, comprehensive restoration services including garage upgrades, 24/7 emergency service, but website navigation issues with broken links and focuses heavily on disaster restoration' },
                    { domain: 'nationalgarageinstaller.com', strength: 'Specialized focus on garage services, door installation expertise, manufacturer partnerships, warranty programs, but limited content marketing and outdated website' },
                    { domain: 'americanvanins.com', strength: 'Local presence, garage door expertise, variety of door styles and brands, installation services, but website appears to have technical issues' }
                ]
            };
            
            return competitorData[niche.niche_name] || [
                { domain: 'miamilocal.com', strength: 'Established local presence, good reviews' },
                { domain: 'miamiservices.net', strength: 'Strong domain authority, comprehensive content' },
                { domain: 'southflorida.com', strength: 'Regional authority, multiple service pages' },
                { domain: 'miamibusiness.org', strength: 'Local directory presence, basic optimization' }
            ];
        }

        function generateOpportunitiesForNiche(niche) {
            const opportunities = [
                `Create comprehensive ${niche.niche_name.toLowerCase()} guide for Miami climate`,
                `Build local service area pages for Miami neighborhoods`,
                `Develop FAQ content addressing common ${niche.niche_name.toLowerCase()} questions`,
                `Create seasonal content for Miami-specific needs`,
                `Build review and testimonial collection system`,
                `Develop local citation strategy for Miami directories`,
                `Create video content showcasing Miami projects`,
                `Build mobile-optimized service pages`
            ];
            return opportunities;
        }

        function generateContentPlanForNiche(niche) {
            const contentPlan = [
                `"Complete Guide to ${niche.niche_name} in Miami" - 3,000+ word pillar page`,
                `"Miami ${niche.niche_name} Cost Guide" - Price transparency content`,
                `"Best ${niche.niche_name} in Miami" - Local service comparison`,
                `"Miami ${niche.niche_name} FAQ" - Common questions and answers`,
                `"Miami Neighborhood ${niche.niche_name} Services" - Local area pages`
            ];
            return contentPlan;
        }

        // Modal event listeners
        document.addEventListener('DOMContentLoaded', function() {
            const modal = document.getElementById('nicheModal');
            const closeBtn = document.getElementsByClassName('close')[0];
            
            closeBtn.onclick = closeModal;
            window.onclick = function(event) {
                if (event.target === modal) {
                    closeModal();
                }
            };
        });

        // Initialize dashboard when page loads
        document.addEventListener('DOMContentLoaded', loadData);
    </script>
</body>
</html>
